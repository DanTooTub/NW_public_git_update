stolen_funds_mio_effect = {		# ROOT is capitulated country, FROM is winner

########    ###    ##    ## ##    ##  ######  
   ##      ## ##   ###   ## ##   ##  ##    ## 
   ##     ##   ##  ####  ## ##  ##   ##       
   ##    ##     ## ## ## ## #####     ######  
   ##    ######### ##  #### ##  ##         ## 
   ##    ##     ## ##   ### ##   ##  ##    ## 
   ##    ##     ## ##    ## ##    ##  ######  


	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_light_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_light_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_light_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_light_tank has_mio_equipment_type = armor }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_medium_tank has_mio_equipment_type = armor }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_heavy_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_heavy_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_heavy_tank has_mio_equipment_type = armor } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_heavy_tank has_mio_equipment_type = armor }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = mio_cat_eq_all_tank_destroyers is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_all_tank_destroyers is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_all_tank_destroyers is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = mio_cat_eq_all_tank_destroyers
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	
	

 ######  ##     ## #### ########   ######  
##    ## ##     ##  ##  ##     ## ##    ## 
##       ##     ##  ##  ##     ## ##       
 ######  #########  ##  ########   ######  
      ## ##     ##  ##  ##              ## 
##    ## ##     ##  ##  ##        ##    ## 
 ######  ##     ## #### ##         ######  



	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = mio_cat_eq_all_carrier is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_all_carrier is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_all_carrier is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = mio_cat_eq_all_carrier
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_cruiser has_mio_equipment_type = capital_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cruiser has_mio_equipment_type = capital_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cruiser has_mio_equipment_type = capital_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_cruiser has_mio_equipment_type = capital_ship }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_destroyer has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_destroyer has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_destroyer has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_destroyer has_mio_equipment_type = screen_ship }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_battleship has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_battleship has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_battleship has_mio_equipment_type = screen_ship } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_battleship has_mio_equipment_type = screen_ship }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = ship_hull_submarine has_mio_equipment_type = submarine } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = ship_hull_submarine has_mio_equipment_type = submarine } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = ship_hull_submarine has_mio_equipment_type = submarine } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = ship_hull_submarine has_mio_equipment_type = submarine }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	
	
	
########  ##          ###    ##    ## ########  ######  
##     ## ##         ## ##   ###   ## ##       ##    ## 
##     ## ##        ##   ##  ####  ## ##       ##       
########  ##       ##     ## ## ## ## ######    ######  
##        ##       ######### ##  #### ##             ## 
##        ##       ##     ## ##   ### ##       ##    ## 
##        ######## ##     ## ##    ## ########  ######  

	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = mio_cat_eq_only_light_fighter has_mio_equipment_type = mio_cat_eq_only_light_fighter_no_cv } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = mio_cat_eq_only_light_fighter has_mio_equipment_type = mio_cat_eq_only_light_fighter_no_cv } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = mio_cat_eq_only_light_fighter has_mio_equipment_type = mio_cat_eq_only_light_fighter_no_cv } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = mio_cat_eq_only_light_fighter has_mio_equipment_type = mio_cat_eq_only_light_fighter_no_cv }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = cv_small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = cv_small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = cv_small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = cv_small_plane_cas_airframe }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = small_plane_naval_bomber_airframe has_mio_equipment_type = cv_small_plane_airframe has_mio_equipment_type = cv_small_plane_naval_bomber_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = small_plane_naval_bomber_airframe has_mio_equipment_type = cv_small_plane_airframe has_mio_equipment_type = cv_small_plane_naval_bomber_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = small_plane_naval_bomber_airframe has_mio_equipment_type = cv_small_plane_airframe has_mio_equipment_type = cv_small_plane_naval_bomber_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_cv_aircraft has_mio_equipment_type = small_plane_naval_bomber_airframe has_mio_equipment_type = cv_small_plane_airframe has_mio_equipment_type = cv_small_plane_naval_bomber_airframe }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_plane has_mio_equipment_type = mio_cat_eq_only_tactical_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_plane has_mio_equipment_type = mio_cat_eq_only_tactical_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_medium_plane has_mio_equipment_type = mio_cat_eq_only_tactical_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_medium_plane has_mio_equipment_type = mio_cat_eq_only_tactical_bomber }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_large_plane has_mio_equipment_type = mio_cat_eq_only_strategic_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_large_plane has_mio_equipment_type = mio_cat_eq_only_strategic_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_large_plane has_mio_equipment_type = mio_cat_eq_only_strategic_bomber } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_large_plane has_mio_equipment_type = mio_cat_eq_only_strategic_bomber }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = large_plane_airframe has_mio_equipment_type = large_plane_maritime_patrol_plane_airframe has_mio_equipment_type = transport_plane_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = large_plane_airframe has_mio_equipment_type = large_plane_maritime_patrol_plane_airframe has_mio_equipment_type = transport_plane_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = large_plane_airframe has_mio_equipment_type = large_plane_maritime_patrol_plane_airframe has_mio_equipment_type = transport_plane_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = large_plane_airframe has_mio_equipment_type = large_plane_maritime_patrol_plane_airframe has_mio_equipment_type = transport_plane_equipment }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = small_plane_cas_airframe } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = mio_cat_eq_all_small_plane has_mio_equipment_type = small_plane_cas_airframe }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}


##     ##    ###    ######## ######## ########  #### ######## ##       
###   ###   ## ##      ##    ##       ##     ##  ##  ##       ##       
#### ####  ##   ##     ##    ##       ##     ##  ##  ##       ##       
## ### ## ##     ##    ##    ######   ########   ##  ######   ##       
##     ## #########    ##    ##       ##   ##    ##  ##       ##       
##     ## ##     ##    ##    ##       ##    ##   ##  ##       ##       
##     ## ##     ##    ##    ######## ##     ## #### ######## ######## 

	
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = infantry_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = infantry_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = infantry_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = infantry_equipment
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = support_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = support_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = support_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = support_equipment
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = train_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = train_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = train_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = train_equipment
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = railway_gun_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = railway_gun_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = railway_gun_equipment is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = railway_gun_equipment
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}

	
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = artillery_equipment has_mio_equipment_type = anti_tank_equipment has_mio_equipment_type = anti_air_equipment has_mio_equipment_type = rocket_artillery_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = artillery_equipment has_mio_equipment_type = anti_tank_equipment has_mio_equipment_type = anti_air_equipment has_mio_equipment_type = rocket_artillery_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = artillery_equipment has_mio_equipment_type = anti_tank_equipment has_mio_equipment_type = anti_air_equipment has_mio_equipment_type = rocket_artillery_equipment } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = artillery_equipment has_mio_equipment_type = anti_tank_equipment has_mio_equipment_type = anti_air_equipment has_mio_equipment_type = rocket_artillery_equipment }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
	
	
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { OR = { has_mio_equipment_type = motorized_equipment has_mio_equipment_type = mechanized_equipment has_mio_equipment_type = motorized_rocket_equipment has_mio_equipment_type = mio_cat_eq_all_armored_car } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = motorized_equipment has_mio_equipment_type = mechanized_equipment has_mio_equipment_type = motorized_rocket_equipment has_mio_equipment_type = mio_cat_eq_all_armored_car } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { OR = { has_mio_equipment_type = motorized_equipment has_mio_equipment_type = mechanized_equipment has_mio_equipment_type = motorized_rocket_equipment has_mio_equipment_type = mio_cat_eq_all_armored_car } is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					OR = { has_mio_equipment_type = motorized_equipment has_mio_equipment_type = mechanized_equipment has_mio_equipment_type = motorized_rocket_equipment has_mio_equipment_type = mio_cat_eq_all_armored_car }
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}

	
	if = {
		limit = {
			FROM = { any_military_industrial_organization = { has_mio_equipment_type = mio_cat_eq_build is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } } }
		}
		ROOT = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_build is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } NOT = { has_mio_flag = is_already_stolen_mio_flag } }
				set_mio_flag = is_already_stolen_mio_flag
				set_temp_variable = { temp0 = size }
				while_loop_effect = {
					limit = { check_variable = { temp0 > 0 } }
					add_to_temp_variable = { temp_funds = global.total_mio_funds_array^temp0 }
					add_to_temp_variable = { temp0 = -1 }
				}
				add_to_temp_variable = { temp_funds = funds }
				add_to_temp_array = { looser_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = looser_temp_mio_size_array value = looser_max_size }
			clear_array = looser_temp_mio_size_array
		}
		FROM = {
			every_military_industrial_organization = {
				limit = { has_mio_equipment_type = mio_cat_eq_build is_mio_available = yes OR = { check_variable = { funds > 0 } check_variable = { size > 0 } } }
				add_to_temp_array = { winner_temp_mio_size_array = size }
			}
			find_highest_in_array = { array = winner_temp_mio_size_array value = winner_max_size }
			clear_array = winner_temp_mio_size_array
			
			random_military_industrial_organization = {
				limit = {
					has_mio_equipment_type = mio_cat_eq_build
					is_mio_available = yes
					check_variable = { size = winner_max_size }
				}
				if = {
					limit = { check_variable = { looser_max_size > winner_max_size } }
					set_temp_variable = { mio_funds_stolen_total_temp = looser_max_size }
					subtract_from_temp_variable = { mio_funds_stolen_total_temp = winner_max_size }
					multiply_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_bonus_modifier }
					add_to_temp_variable = { mio_funds_stolen_total_temp = FROM.modifier@mio_funds_stolen_base_modifier }
					clamp_temp_variable = { var = mio_funds_stolen_total_temp	min = mio_funds_stolen_base_modifier	max = 1 }
					multiply_temp_variable = { temp_funds = mio_funds_stolen_total_temp }
					add_mio_funds = temp_funds
				}
				else = {
					multiply_temp_variable = { temp_funds = FROM.modifier@mio_funds_stolen_base_modifier }
					add_mio_funds = temp_funds
				}
				log = "[Prev.GetTag] ([This.GetName]): total_add_mio_funds = [?temp_funds]"
			}
		}
		set_temp_variable = { temp_funds = 0 }
		set_temp_variable = { mio_funds_stolen_total_temp = 0 }
	}
}		# ROOT is capitulated country, FROM is winner