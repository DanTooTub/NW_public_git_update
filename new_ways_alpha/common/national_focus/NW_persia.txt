focus_tree = {
	id = persian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = PER
			NOT = { has_country_flag = PER_peace_ENG_SOV }
		}
	}
	
	initial_show_position = {
		x = 22
	}
	
	default = no
	
	continuous_focus_position = { x = 3100 y = 50 }
	
	focus = {
		id = PER_cut_ties_with_europe
		icon = GFX_focus_renounce_the_treaty_of_trianon
		mutually_exclusive = { focus = PER_modernization_at_expense_of_great_powers }
		x = 2
		y = 0

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				date < 1937.01.01
			}
			modifier = {
				factor = 0
				has_government = communism
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_cut_ties_with_europe"
			add_ideas = closed_economy
		}
	}
	
	focus = {
		id = PER_trade_with_middle_eastern_neighbors
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = PER_cut_ties_with_europe }
		x = 0
		y = 1
		relative_position_id = PER_cut_ties_with_europe
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_trade_with_middle_eastern_neighbors"
			every_other_country = {
				limit = {
					exists = yes
					NOT = { has_war_with = ROOT }
					OR = {
						tag = AFG
						tag = IRQ
						tag = TUR
						tag = EGY
						tag = SYR
						tag = BPL
					}
				}
				add_opinion_modifier = { target = ROOT modifier = PER_trade_with_middle_eastern_neighbors }
				ROOT = { add_opinion_modifier = { target = PREV modifier = PER_trade_with_middle_eastern_neighbors } }
			}
			if = {
				limit = { owns_state = 417 }
				417 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = PER_customs_union_creation
		icon = GFX_z_goal_ekonomik_ref
		prerequisite = { focus = PER_trade_with_middle_eastern_neighbors }
		x = 4
		y = 1
		relative_position_id = PER_trade_with_middle_eastern_neighbors
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.5
				NOT = { has_completed_focus = PER_support_allied_research }
			}
		}
		available = {
			OR = {
				AND = {
					is_in_faction_with = TUR
					TUR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = AFG
					AFG = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = IRQ
					IRQ = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = BPL
					BPL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = EGY
					EGY = { is_faction_leader = yes }
				}
				is_faction_leader = yes
			}
			num_faction_members > 1
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_customs_union_creation"
			custom_effect_tooltip = PER_customs_union_creation_tt
			hidden_effect = {
				set_temp_variable = { temp1 = 0 }
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					add_to_temp_variable = { temp1 = 1 }
				}
				clamp_variable = {
					var = temp1
					min = 1
					max = 4
				}
				capital_scope = {
					add_extra_state_shared_building_slots = temp1
					add_building_construction = {
						type = industrial_complex
						level = temp1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = PER_facilitate_movement_capital
		icon = GFX_z_goal_generic_increased_intervention_in_economy
		prerequisite = { focus = PER_customs_union_creation }
		x = 0
		y = 1
		relative_position_id = PER_customs_union_creation
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				AND = {
					is_in_faction_with = TUR
					TUR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = AFG
					AFG = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = IRQ
					IRQ = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = BPL
					BPL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = EGY
					EGY = { is_faction_leader = yes }
				}
				is_faction_leader = yes
			}
			num_faction_members > 1
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_facilitate_movement_capital"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				every_neighbor_state = {
					limit = { is_owned_and_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
				} 
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_expand_resource_exports_neighbouring_countries
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PER_facilitate_movement_capital }
		x = 0
		y = 1
		relative_position_id = PER_facilitate_movement_capital
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				AND = {
					is_in_faction_with = TUR
					TUR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = AFG
					AFG = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = IRQ
					IRQ = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = BPL
					BPL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = EGY
					EGY = { is_faction_leader = yes }
				}
				is_faction_leader = yes
			}
			num_faction_members > 1
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expand_resource_exports_neighbouring_countries"
			add_ideas = PER_expand_resource_exports_neighbouring_countries_idea
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_develop_economic_integration_processes
		icon = GFX_z_goal_generic_keynesian_economics
		prerequisite = { focus = PER_expand_resource_exports_neighbouring_countries }
		x = -1
		y = 1
		relative_position_id = PER_expand_resource_exports_neighbouring_countries
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				AND = {
					is_in_faction_with = TUR
					TUR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = AFG
					AFG = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = IRQ
					IRQ = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = BPL
					BPL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = EGY
					EGY = { is_faction_leader = yes }
				}
				is_faction_leader = yes
			}
			num_faction_members > 1
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_develop_economic_integration_processes"
			custom_effect_tooltip = PER_customs_union_creation_tt
			hidden_effect = {
				set_temp_variable = { temp1 = 0 }
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					add_to_temp_variable = { temp1 = 1 }
				}
				clamp_variable = {
					var = temp1
					min = 1
					max = 4
				}
				capital_scope = {
					add_extra_state_shared_building_slots = temp1
					add_building_construction = {
						type = industrial_complex
						level = temp1
						instant_build = yes
					}
				}
			}
		}
	}
	
	
	##############################
	#### SADABAT PACT SECTION ####
	##############################
	
	focus = {
		id = PER_create_the_sadabat_pact
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = PER_trade_with_middle_eastern_neighbors }
		x = 0
		y = 1
		relative_position_id = PER_trade_with_middle_eastern_neighbors
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				date < 1937.06.01
			}
		}
		available = {
			if = {
				limit = {
					has_country_flag = saadabad_accept_flag
					is_ai = yes
				}
				if = {
					limit = {
						country_exists = TUR
						TUR = { has_country_flag = saadabad_accept_flag }
					}
					TUR = {
						NOT = { has_completed_focus = TUR_create_the_sadabat_pact }
						is_faction_leader = no
					}
				}
				if = {
					limit = {
						country_exists = AFG
						AFG = { has_country_flag = saadabad_accept_flag }
					}
					AFG = {
						NOT = { has_completed_focus = AFG_create_the_sadabat_pact }
						is_faction_leader = no
					}
				}
				if = {
					limit = {
						country_exists = IRQ
						IRQ = { has_country_flag = saadabad_accept_flag }
					}
					IRQ = {
						NOT = { has_completed_focus = IRQ_create_the_sadabat_pact }
						is_faction_leader = no
					}
				}
				if = {
					limit = {
						country_exists = BPL
						BPL = { has_country_flag = saadabad_accept_flag }
					}
					BPL = {
						NOT = { has_completed_focus = BPL_create_the_sadabat_pact }
						is_faction_leader = no
					}
				}
			}
			is_in_faction = no
			is_subject = no
			has_civil_war = no
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_create_the_sadabat_pact"
			set_rule = { can_create_factions = yes }
			create_faction = sadabat_pact
			add_political_power = 150
			if = {
				limit = {
					TUR = {
						has_completed_focus = TUR_create_the_sadabat_pact
						is_faction_leader = yes
						NOT = { has_country_flag = TUR_dem_sadabad_flag }
					}
				}
				TUR = {
					set_faction_name = TUR_dem_sadabad
					set_country_flag = TUR_dem_sadabad_flag
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_iraq
		icon = GFX_z_goal_expansion_iraq
		prerequisite = { focus = PER_create_the_sadabat_pact }
		x = -2
		y = 1
		relative_position_id = PER_create_the_sadabat_pact

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_iraq
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_iraq
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_iraq
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#IRQ = { is_guaranteed_by = ROOT }
			IRQ = {
				is_subject = no
				NOT = { has_idea = IRQ_anglo_iraqi_treaty }
			}
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				IRQ = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_iraq"
			add_opinion_modifier = { target = IRQ modifier = emphasis_on_alliance }
			IRQ = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT		
					value = 200
				}
			}
			if = {
				limit = { IRQ = { is_in_faction = no } }
				IRQ = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { IRQ = { is_in_faction = no } }
					IRQ = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_turkey
		icon = GFX_z_goal_expansion_turkey
		prerequisite = { focus = PER_create_the_sadabat_pact }
		x = 0
		y = 1
		relative_position_id = PER_create_the_sadabat_pact

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					AFG = {
						focus_progress = {
							focus = AFG_expansion_turkey
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_turkey
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_turkey
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#TUR = { is_guaranteed_by = ROOT }
			TUR = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				has_war_with = TUR
				TUR = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_turkey"
			add_opinion_modifier = { target = TUR modifier = emphasis_on_alliance }
			TUR = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { TUR = { is_in_faction = no } }
				TUR = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { TUR = { is_in_faction = no } }
					TUR = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_afgan
		icon = GFX_z_goal_expansion_afgan
		prerequisite = { focus = PER_create_the_sadabat_pact }
		x = 2
		y = 1
		relative_position_id = PER_create_the_sadabat_pact

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_afgan
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_afgan
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_afgan
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#AFG = { is_guaranteed_by = ROOT }
			AFG = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				has_war_with = AFG
				AFG = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_afgan"
			add_opinion_modifier = { target = AFG modifier = emphasis_on_alliance }
			AFG = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { AFG = { is_in_faction = no } }
				AFG = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { AFG = { is_in_faction = no } }
					AFG = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_syria
		icon = GFX_z_goal_expansion_syria
		prerequisite = {
			focus = PER_expansion_iraq
			focus = PER_expansion_turkey
			focus = PER_expansion_afgan
		}
		x = -2
		y = 1
		relative_position_id = PER_expansion_turkey

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_syria
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_syria
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_syria
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_syria
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#SYR = { is_guaranteed_by = ROOT }
			SYR = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = SYR }
				has_war_with = SYR
				SYR = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_syria"
			add_opinion_modifier = { target = SYR modifier = emphasis_on_alliance }
			SYR = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { SYR = { is_in_faction = no } }
				SYR = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { SYR = { is_in_faction = no } }
					SYR = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_arab_peninsula
		icon = GFX_z_goal_expansion_arab_peninsula
		prerequisite = {
			focus = PER_expansion_iraq
			focus = PER_expansion_turkey
			focus = PER_expansion_afgan
		}
		x = 0
		y = 1
		relative_position_id = PER_expansion_turkey

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_arab_peninsula
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_arab_peninsula
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_arab_peninsula
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_arab_peninsula
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#SAU = { is_guaranteed_by = ROOT }
			SAU = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = SAU }
				has_war_with = SAU
				SAU = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_arab_peninsula"
			add_opinion_modifier = { target = SAU modifier = emphasis_on_alliance }
			SAU = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { SAU = { is_in_faction = no } }
				SAU = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { SAU = { is_in_faction = no } }
					SAU = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_egypt
		icon = GFX_z_goal_expansion_egypt
		prerequisite = {
			focus = PER_expansion_iraq
			focus = PER_expansion_turkey
			focus = PER_expansion_afgan
		}
		x = 2
		y = 1
		relative_position_id = PER_expansion_turkey

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_egypt
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_egypt
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_egypt
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_egypt
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#EGY = { is_guaranteed_by = ROOT }
			EGY = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = EGY }
				has_war_with = EGY
				EGY = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus PER_expansion_egypt"
			add_opinion_modifier = { target = EGY modifier = emphasis_on_alliance }
			EGY = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { EGY = { is_in_faction = no } }
				EGY = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { EGY = { is_in_faction = no } }
					EGY = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_oman
		icon = GFX_z_goal_expansion_oman
		prerequisite = {
			focus = PER_expansion_syria
			focus = PER_expansion_arab_peninsula
			focus = PER_expansion_egypt
		}
		x = -1
		y = 1
		relative_position_id = PER_expansion_arab_peninsula

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_oman
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_oman
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_oman
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_oman
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#OMA = { is_guaranteed_by = ROOT }
			OMA = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = OMA }
				has_war_with = OMA
				OMA = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_oman"
			add_opinion_modifier = { target = OMA modifier = emphasis_on_alliance }
			OMA = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { OMA = { is_in_faction = no } }
				OMA = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { OMA = { is_in_faction = no } }
					OMA = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_expansion_yeman
		icon = GFX_z_goal_expansion_yeman
		prerequisite = {
			focus = PER_expansion_syria
			focus = PER_expansion_arab_peninsula
			focus = PER_expansion_egypt
		}
		x = 1
		y = 1
		relative_position_id = PER_expansion_arab_peninsula

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					TUR = {
						focus_progress = {
							focus = TUR_expansion_yeman
							progress > 0
						}
					}
					AFG = {
						focus_progress = {
							focus = AFG_expansion_yeman
							progress > 0
						}
					}
					IRQ = {
						focus_progress = {
							focus = IRQ_expansion_yeman
							progress > 0
						}
					}
					BPL = {
						focus_progress = {
							focus = BPL_expansion_yeman
							progress > 0
						}
					}
				}
			}
		}
		available = {
			#YEM = { is_guaranteed_by = ROOT }
			YEM = { is_subject = no }
			is_faction_leader = yes
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = YEM }
				has_war_with = YEM
				YEM = {
					OR = {
						is_subject_of = ROOT
						is_in_faction = yes
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expansion_yeman"
			add_opinion_modifier = { target = YEM modifier = emphasis_on_alliance }
			YEM = {
				add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance }
				add_ai_strategy = {
					type = befriend
					id = ROOT			
					value = 100
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT			
					value = 200
				}	
			}
			if = {
				limit = { YEM = { is_in_faction = no } }
				YEM = { custom_effect_tooltip = TUR_invite_to_faction_tooltip }
			}
			hidden_effect = {
				if = {
					limit = { YEM = { is_in_faction = no } }
					YEM = { country_event = { id = tr_turkey.4 days = 1 } }
				}
			}
		}
	}
	
	focus = {
		id = PER_support_allied_research
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = PER_expansion_arab_peninsula }
		prerequisite = { focus = PER_expansion_oman }
		prerequisite = { focus = PER_expansion_yeman }
		x = 1
		y = 1
		relative_position_id = PER_expansion_oman

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_faction_leader = yes
			num_faction_members > 1
			NOT = { has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_support_allied_research"
			ROOT = { add_to_tech_sharing_group = TUR_sadabat_group }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_to_tech_sharing_group = TUR_sadabat_group
			}
		}
	}
	
	
	#################################################
	#### MODERNIZATION FROM GREAT POWERS SECTION ####
	#################################################
	
	focus = {
		id = PER_modernization_at_expense_of_great_powers
		icon = GFX_z_goal_modernization_at_expense_of_great_powers
		mutually_exclusive = { focus = PER_cut_ties_with_europe }
		x = 9
		y = 0
		relative_position_id = PER_cut_ties_with_europe

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				date < 1937.01.01
				is_historical_focus_on = no
			}
		}
		available = {
			OR = {
				country_exists = ENG
				country_exists = GER
				country_exists = SOV
				country_exists = JAP
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_modernization_at_expense_of_great_powers"
			every_other_country = {
				limit = {
					exists = yes
					NOT = { has_war_with = ROOT }
					OR = {
						tag = ENG
						tag = GER
						tag = SOV
						tag = JAP
					}
				}
				add_opinion_modifier = { target = ROOT modifier = PER_modernization_at_expense_of_great_powers }
				ROOT = { add_opinion_modifier = { target = PREV modifier = PER_modernization_at_expense_of_great_powers } }
			}
		}
	}
	
	focus = {
		id = PER_expand_export_of_cotton_in_russia
		icon = GFX_z_goal_expand_export_of_cotton
		prerequisite = { focus = PER_modernization_at_expense_of_great_powers }
		mutually_exclusive = {
			focus = PER_second_clearing_agreement_with_germany
			focus = PER_southern_trade_route
		}
		x = -2
		y = 1
		relative_position_id = PER_modernization_at_expense_of_great_powers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
			}
		}
		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expand_export_of_cotton_in_russia"
			add_ideas = PER_export_of_cotton_in_russia
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
		}
	}
	
	focus = {
		id = PER_second_clearing_agreement_with_germany
		icon = GFX_z_goal_clearing_with_germany
		prerequisite = { focus = PER_modernization_at_expense_of_great_powers }
		mutually_exclusive = {
			focus = PER_expand_export_of_cotton_in_russia
			focus = PER_southern_trade_route
		}
		x = 0
		y = 1
		relative_position_id = PER_modernization_at_expense_of_great_powers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			country_exists = GFA
			NOT = { has_war_with = GFA }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_second_clearing_agreement_with_germany"
			add_popularity = {
				ideology = fascism
				popularity = 0.04
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_southern_trade_route
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = PER_modernization_at_expense_of_great_powers }
		mutually_exclusive = {
			focus = PER_expand_export_of_cotton_in_russia
			focus = PER_second_clearing_agreement_with_germany
		}
		x = 2
		y = 1
		relative_position_id = PER_modernization_at_expense_of_great_powers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
		}
		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_southern_trade_route"
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 50
			}
			if = {
				limit = { owns_state = 412 }
				412 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { owns_state = 413 }
				413 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = PER_southern_trade_route
				bonus = 1.0
				uses = 2
				category = ss_tech
				category = cl_tech
				category = ca_tech
				category = dd_tech
				category = bc_tech
				category = bb_tech
				category = cv_tech
			}
			add_tech_bonus = {
				name = PER_southern_trade_route
				bonus = 1.0
				uses = 2
				category = naval_equipment
			}
		}
	}
	
	focus = {
		id = PER_invest_in_iranian_corridor
		icon = GFX_z_goal_jd_paravoz
		prerequisite = {
			focus = PER_expand_export_of_cotton_in_russia
			focus = PER_second_clearing_agreement_with_germany
			focus = PER_southern_trade_route
		}
		mutually_exclusive = {
			focus = PER_attract_german_investors
			focus = PER_expand_maritime_trade
		}
		x = 0
		y = 1
		relative_position_id = PER_expand_export_of_cotton_in_russia

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
			}
		}
		available = {
			419 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			417 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			412 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			963 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_invest_in_iranian_corridor"
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 419
						state = 417
						state = 413
						state = 412
						state = 963
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			419 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_attract_german_investors
		icon = GFX_z_goal_attract_german_investors
		prerequisite = {
			focus = PER_expand_export_of_cotton_in_russia
			focus = PER_second_clearing_agreement_with_germany
			focus = PER_southern_trade_route
		}
		mutually_exclusive = {
			focus = PER_invest_in_iranian_corridor
			focus = PER_expand_maritime_trade
		}
		x = 0
		y = 1
		relative_position_id = PER_second_clearing_agreement_with_germany

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				GFA = { has_civil_war = yes }
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			country_exists = GFA
			NOT = { has_war_with = GFA }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_german_investors"
			add_popularity = {
				ideology = fascism
				popularity = 0.04
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_expand_maritime_trade
		icon = GFX_goal_generic_trade
		prerequisite = {
			focus = PER_expand_export_of_cotton_in_russia
			focus = PER_second_clearing_agreement_with_germany
			focus = PER_southern_trade_route
		}
		mutually_exclusive = {
			focus = PER_invest_in_iranian_corridor
			focus = PER_attract_german_investors
		}
		x = 0
		y = 1
		relative_position_id = PER_southern_trade_route

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
		}
		available = {
			413 = {
				controller = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			412 = {
				controller = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			410 = {
				controller = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expand_maritime_trade"
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 50
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 413
						state = 412
						state = 410
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_attract_kremlin_advisers
		icon = GFX_z_goal_diplomacy_1
		prerequisite = {
			focus = PER_invest_in_iranian_corridor
			focus = PER_attract_german_investors
			focus = PER_expand_maritime_trade
		}
		mutually_exclusive = {
			focus = PER_involvement_german_advisers
			focus = PER_involvement_british_advisers
		}
		x = 0
		y = 1
		relative_position_id = PER_invest_in_iranian_corridor

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
			}
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_kremlin_advisers"
			add_popularity = {
				ideology = communism
				popularity = 0.04
			}
			add_ideas = PER_kremlin_advisers
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.89 }
			}
		}
	}
	
	focus = {
		id = PER_involvement_german_advisers
		icon = GFX_z_goal_diplomacy_2
		prerequisite = {
			focus = PER_invest_in_iranian_corridor
			focus = PER_attract_german_investors
			focus = PER_expand_maritime_trade
		}
		mutually_exclusive = {
			focus = PER_attract_kremlin_advisers
			focus = PER_involvement_british_advisers
		}
		x = 0
		y = 1
		relative_position_id = PER_attract_german_investors

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				GFA = { has_civil_war = yes }
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			country_exists = GFA
			NOT = { has_war_with = GFA }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_involvement_german_advisers"
			add_popularity = {
				ideology = fascism
				popularity = 0.06
			}
			add_ideas = PER_german_advisers
			add_ideas = PER_boy_scout_organizations
			every_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = PER_involvement_german_advisers_tt
			hidden_effect = {
				if = {
					limit = { GER = { has_government = fascism } }
					GER = { country_event = { id = NWpersian.62 } }
				}
				news_event = { hours = 6 id = trworldnews.90 }
			}
		}
	}
	
	focus = {
		id = PER_involvement_british_advisers
		icon = GFX_z_goal_generic_papers
		prerequisite = {
			focus = PER_invest_in_iranian_corridor
			focus = PER_attract_german_investors
			focus = PER_expand_maritime_trade
		}
		mutually_exclusive = {
			focus = PER_attract_kremlin_advisers
			focus = PER_involvement_german_advisers
		}
		x = 0
		y = 1
		relative_position_id = PER_expand_maritime_trade

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				factor = 0.1
				has_completed_focus = PER_islamic_revolution
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
				}
			}
		}
		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_involvement_british_advisers"
			add_ideas = PER_british_advisers
			hidden_effect = {
				news_event = { hours = 6 id = trworldnews.91 }
			}
		}
	}
	
	focus = {
		id = PER_treaty_with_soviet_union
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = {
			focus = PER_attract_kremlin_advisers
			focus = PER_involvement_german_advisers
			focus = PER_involvement_british_advisers
		}
		mutually_exclusive = {
			focus = PER_treaty_with_germany
			focus = PER_treaty_with_britain
		}
		x = 0
		y = 1
		relative_position_id = PER_attract_kremlin_advisers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_civil_war = no
			}
			modifier = {
				factor = 0.1
				has_completed_focus = PER_islamic_revolution
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
				has_civil_war = no
			}
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
				has_civil_war = no
			}
		}
		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_treaty_with_soviet_union"
			add_popularity = {
				ideology = communism
				popularity = 0.04
			}
			SOV = { add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance } }
			add_opinion_modifier = { target = SOV modifier = emphasis_on_alliance }
			add_ideas = PER_treaty_with_soviet_union
			custom_effect_tooltip = PER_treaty_with_bonus_effect
			effect_tooltip = {
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			hidden_effect = {
				if = {
					limit = { has_completed_focus = PER_expand_export_of_cotton_in_russia }
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = { has_completed_focus = PER_invest_in_iranian_corridor }
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = { has_completed_focus = PER_attract_kremlin_advisers }
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					SOV = { has_government = communism }
					NOT = { has_completed_focus = PER_trial_communists }
					count_triggers = {
						amount = 2
						has_completed_focus = PER_expand_export_of_cotton_in_russia
						has_completed_focus = PER_invest_in_iranian_corridor
						has_completed_focus = PER_attract_kremlin_advisers
					}
					OR = {
						AND = {
							has_civil_war = no
							OR = {
								has_completed_focus = PER_prohibit_schools_attached_mosques
								has_completed_focus = PER_translate_persian_into_latin
								has_completed_focus = PER_allow_women_serve_in_military
							}
						}
						AND = {
							has_civil_war = no
							has_completed_focus = PER_keep_personal_dictatorship
							count_triggers = {
								amount = 2
								has_completed_focus = PER_prohibit_schools_attached_mosques
								has_completed_focus = PER_translate_persian_into_latin
								has_completed_focus = PER_allow_women_serve_in_military
							}
						}
					}
				}
				SOV = { country_event = { id = NWpersian.53 } }
			}
			custom_effect_tooltip = PER_treaty_with_soviet_union_tt
		}
	}
	
	focus = {
		id = PER_treaty_with_germany
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = {
			focus = PER_attract_kremlin_advisers
			focus = PER_involvement_german_advisers
			focus = PER_involvement_british_advisers
		}
		mutually_exclusive = {
			focus = PER_treaty_with_soviet_union
			focus = PER_treaty_with_britain
		}
		x = 0
		y = 1
		relative_position_id = PER_involvement_german_advisers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.01.01
			}
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 10
				is_historical_focus_on = yes
				date > 1942.01.01
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			country_exists = GFA
			NOT = { has_war_with = GFA }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_treaty_with_germany"
			add_popularity = {
				ideology = fascism
				popularity = 0.04
			}
			GFA = { add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance } }
			add_opinion_modifier = { target = GFA modifier = emphasis_on_alliance }
			add_ideas = PER_treaty_with_germany
			custom_effect_tooltip = PER_treaty_with_bonus_effect
			effect_tooltip = {
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			hidden_effect = {
				if = {
					limit = { has_completed_focus = PER_second_clearing_agreement_with_germany }
					capital_scope = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = { has_completed_focus = PER_attract_german_investors }
					capital_scope = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = { has_completed_focus = PER_involvement_german_advisers }
					capital_scope = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			custom_effect_tooltip = PER_treaty_with_germany_tt
		}
	}
	
	focus = {
		id = PER_treaty_with_britain
		icon = GFX_focus_chi_british_cooperation
		prerequisite = {
			focus = PER_attract_kremlin_advisers
			focus = PER_involvement_german_advisers
			focus = PER_involvement_british_advisers
		}
		mutually_exclusive = {
			focus = PER_treaty_with_soviet_union
			focus = PER_treaty_with_germany
		}
		x = 0
		y = 1
		relative_position_id = PER_involvement_british_advisers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.1
				has_government = communism
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
				}
			}
		}
		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_treaty_with_britain"
			ENG = { add_opinion_modifier = { target = ROOT modifier = emphasis_on_alliance } }
			add_opinion_modifier = { target = ENG modifier = emphasis_on_alliance }
			add_ideas = PER_treaty_with_britain
			custom_effect_tooltip = PER_treaty_with_bonus_effect
			effect_tooltip = {
				every_owned_state = {
					limit = {
						OR = {
							state = 413
							state = 412
							state = 410
						}
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			hidden_effect = {
				if = {
					limit = { has_completed_focus = PER_southern_trade_route }
					every_owned_state = {
						limit = {
							OR = {
								state = 413
								state = 412
								state = 410
							}
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				if = {
					limit = { has_completed_focus = PER_expand_maritime_trade }
					every_owned_state = {
						limit = {
							OR = {
								state = 413
								state = 412
								state = 410
							}
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				if = {
					limit = { has_completed_focus = PER_involvement_british_advisers }
					every_owned_state = {
						limit = {
							OR = {
								state = 413
								state = 412
								state = 410
							}
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}
	
	focus = {
		id = PER_overseas_research
		icon = GFX_z_goal_atlantic_cooperation_program
		prerequisite = { focus = PER_treaty_with_britain }
		x = 0
		y = 1
		relative_position_id = PER_treaty_with_britain

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_treaty_with_britain"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PER_break_soviet_persian_treaty
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = PER_treaty_with_germany focus = PER_treaty_with_britain }
		x = 2
		y = 3
		relative_position_id = PER_treaty_with_britain

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.01.01
			}
		}
		available = {
			
		}
		bypass = {
			NOT = { has_idea = PER_soviet_persian_treaty }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_break_soviet_persian_treaty"
			remove_ideas = PER_soviet_persian_treaty
		}
	}
	
	focus = {
		id = PER_nationalize_oil_industry
		icon = GFX_z_goal_oil
		prerequisite = {
			focus = PER_cut_ties_with_europe
			focus = PER_treaty_with_soviet_union
			focus = PER_treaty_with_germany
		}
		x = -2
		y = 1
		relative_position_id = PER_treaty_with_soviet_union

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.01.01
			}
			modifier = {
				factor = 3
				threat < 0.4
			}
		}
		available = {
		}
		bypass = {
		}
		select_effect = {
			if = {
				limit = {
					OR = {
						NOT = { has_idea = PER_payments_from_oil_sales }
						has_civil_war = yes
						has_war_with = ENG
						has_completed_focus = PER_islamic_revolution
						has_completed_focus = PER_coup_progerman_officers
						has_country_flag = PER_concessions_for_germanophiles_flag
						has_country_flag = PER_form_prosoviet_government_flag
						has_country_flag = PER_last_blow_to_confessors_flag
						PER = { has_completed_focus = PER_nationalize_oil_industry }
					}
				}
				complete_national_focus = PER_nationalize_oil_industry
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_nationalize_oil_industry"
			if = {
				limit = { has_idea = PER_payments_from_oil_sales }
				remove_ideas = PER_payments_from_oil_sales
			}
			ENG = {
				remove_resource_rights = 411
				remove_resource_rights = 412
				remove_resource_rights = 413
			}
			if = {
				limit = {
					OR = {
						NOT = { has_idea = PER_payments_from_oil_sales }
						has_civil_war = yes
						has_war_with = ENG
						has_completed_focus = PER_islamic_revolution
						has_completed_focus = PER_coup_progerman_officers
						has_country_flag = PER_concessions_for_germanophiles_flag
						has_country_flag = PER_form_prosoviet_government_flag
						has_country_flag = PER_last_blow_to_confessors_flag
						PER = { has_completed_focus = PER_nationalize_oil_industry }
					}
				}
				custom_effect_tooltip = generic_instant_focus_complete_tt
			}
			else = {
				ENG = {
					if = {
						limit = { NOT = { has_war_with = ROOT } }
						country_event = { id = NWpersian.1 days = 1 }
					}
					effect_tooltip = { add_opinion_modifier = { target = ROOT modifier = PER_nationalize_oil_industry_op } }
				}
				effect_tooltip = { add_opinion_modifier = { target = ENG modifier = PER_nationalize_oil_industry_op } }
				custom_effect_tooltip = PER_nationalize_oil_industry_tt
			}
		}
	}
	
	
	###########################
	#### COMMUNISM SECTION ####
	###########################
	
	focus = {
		id = PER_form_prosoviet_government
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = PER_treaty_with_soviet_union }
		x = 0
		y = 1
		relative_position_id = PER_treaty_with_soviet_union

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_form_prosoviet_government_flag_2
			}
			has_government = communism
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_form_prosoviet_government"
			add_political_power = 100
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}
	
	focus = {
		id = PER_mosque_of_mashhad_in_warehouses
		icon = GFX_z_goal_r_atheism
		prerequisite = { focus = PER_form_prosoviet_government }
		mutually_exclusive = { focus = PER_guarantee_freedom_of_religion }
		x = -4
		y = 1
		relative_position_id = PER_form_prosoviet_government

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_mosque_of_mashhad_in_warehouses"
			add_popularity = {
				ideology = fascism
				popularity = -0.2
			}
			remove_ideas = {
				PER_influential_clergy
				PER_significant_clergy
				PER_pliable_clergy
			}
			if = {
				limit = { has_idea = PER_influential_clergy }
				remove_ideas = PER_influential_clergy
			}
			if = {
				limit = { has_idea = PER_significant_clergy }
				remove_ideas = PER_significant_clergy
			}
			if = {
				limit = { has_idea = PER_pliable_clergy }
				remove_ideas = PER_pliable_clergy
			}
			add_ideas = PER_mosque_of_mashhad_in_warehouses_idea
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = -6 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_minus_tt
				set_temp_variable = { PER_influence_of_clergy_temp = -4 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_guarantee_freedom_of_religion
		icon = GFX_z_goal_handshake_across_ocean
		prerequisite = { focus = PER_form_prosoviet_government }
		mutually_exclusive = { focus = PER_mosque_of_mashhad_in_warehouses }
		x = -2
		y = 1
		relative_position_id = PER_form_prosoviet_government

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_guarantee_freedom_of_religion"
			add_stability = 0.2
		}
	}
	
	focus = {
		id = PER_centralize_control_of_country
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PER_form_prosoviet_government }
		x = 0
		y = 1
		relative_position_id = PER_form_prosoviet_government

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_centralize_control_of_country"
			add_ideas = PER_centralize_control_of_country_idea
		}
	}
	
	focus = {
		id = PER_direct_all_forces_explore_for_resources
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PER_centralize_control_of_country }
		x = -3
		y = 2
		relative_position_id = PER_centralize_control_of_country

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_direct_all_forces_explore_for_resources"
			add_ideas = PER_direct_all_forces_explore_for_resources
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = PER_spend_nationalization
		icon = GFX_z_goal_communist_factories
		prerequisite = { focus = PER_centralize_control_of_country }
		prerequisite = { focus = PER_unnecessary_to_abolish_monarchy }
		x = -1
		y = 2
		relative_position_id = PER_centralize_control_of_country

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_spend_nationalization"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_create_labor_camp
		icon = GFX_z_focus_the_workers
		prerequisite = { focus = PER_direct_all_forces_explore_for_resources focus = PER_spend_nationalization }
		x = 0
		y = 1
		relative_position_id = PER_direct_all_forces_explore_for_resources

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_create_labor_camp"
			add_ideas = PER_create_labor_camp_idea
		}
	}
	
	focus = {
		id = PER_follow_to_north_for_stalin
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = PER_create_labor_camp }
		mutually_exclusive = {
			focus = PER_red_sugiharto
			focus = PER_new_republic_of_union
		}
		x = -1
		y = 1
		relative_position_id = PER_create_labor_camp

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_follow_to_north_for_stalin"
			add_ideas = PER_follow_to_north_for_stalin
		}
	}
	
	focus = {
		id = PER_new_republic_of_union
		icon = GFX_z_goal_create_new_ussr
		prerequisite = { focus = PER_spend_nationalization }
		mutually_exclusive = {
			focus = PER_red_sugiharto
			focus = PER_follow_to_north_for_stalin
		}
		x = -1
		y = 2
		relative_position_id = PER_spend_nationalization

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_new_republic_of_union"
			SOV = { country_event = { id = NWpersian.56 days = 1 } }
		}
	}
	
	focus = {
		id = PER_industrialization_of_south
		icon = GFX_z_goal_generic_industrial_worker
		prerequisite = { focus = PER_follow_to_north_for_stalin focus = PER_new_republic_of_union }
		x = 0
		y = 1
		relative_position_id = PER_follow_to_north_for_stalin

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			411 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			412 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_industrialization_of_south"
			every_owned_state = {
				limit = {
					OR = {
						state = 411
						state = 412
						state = 413
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_soviet_iranian_science
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = PER_industrialization_of_south }
		x = 0
		y = 1
		relative_position_id = PER_industrialization_of_south

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_industrialization_of_south"
			add_to_tech_sharing_group = PER_SOV_group
			SOV = { add_to_tech_sharing_group = PER_SOV_group }
		}
	}
	
	focus = {
		id = PER_all_union_developments
		icon = GFX_z_goal_socialist_industry
		prerequisite = { focus = PER_new_republic_of_union }
		x = 0
		y = 1
		relative_position_id = PER_new_republic_of_union

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_all_union_developments_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_all_union_developments"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_contribute_to_five_year_plan
		icon = GFX_z_goal_production
		prerequisite = { focus = PER_all_union_developments }
		x = 0
		y = 1
		relative_position_id = PER_all_union_developments

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_contribute_to_five_year_plan"
			add_ideas = PER_contribute_to_five_year_plan_idea
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	#### BETWEEN FOCUS ####
	
	focus = {
		id = PER_unnecessary_to_abolish_monarchy
		icon = GFX_focus_rom_abdicate
		prerequisite = { focus = PER_centralize_control_of_country focus = PER_magnify_heydar }
		x = 1
		y = 1
		relative_position_id = PER_centralize_control_of_country

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_unnecessary_to_abolish_monarchy"
			if = {
				limit = {
					NOT = {
						has_country_flag = PER_tadj_ol_molouk_flag
						has_country_flag = NWpersian_221_flag
						has_country_flag = NWpersian_222_flag
					}
				}
				remove_ideas = PER_reza_shah_pahlavi_idea
			}
			else_if = {
				limit = {
					has_country_flag = PER_tadj_ol_molouk_flag
					NOT = {
						has_country_flag = NWpersian_221_flag
						has_country_flag = NWpersian_222_flag
					}
				}
				remove_ideas = PER_tadj_ol_molouk_idea
			}
			else_if = {
				limit = {
					has_completed_focus = PER_treaty_with_germany
					has_country_flag = NWpersian_221_flag
					NOT = { has_country_flag = NWpersian_223_flag }
				}
				country_event = { id = NWpersian.225 }
			}
			else_if = {
				limit = {
					has_completed_focus = PER_treaty_with_soviet_union
					has_country_flag = NWpersian_222_flag
					NOT = { has_country_flag = NWpersian_223_flag }
				}
				country_event = { id = NWpersian.226 }
			}
		}
	}
	
	focus = {
		id = PER_red_sugiharto
		icon = GFX_z_goal_council_communism_monar
		prerequisite = { focus = PER_unnecessary_to_abolish_monarchy }
		mutually_exclusive = {
			focus = PER_follow_to_north_for_stalin
			focus = PER_new_republic_of_union
		}
		x = -1
		y = 3
		relative_position_id = PER_unnecessary_to_abolish_monarchy

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_flag = PER_red_sugiharto_flag
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_red_sugiharto"
			remove_ideas = PER_mohammad_reza_pahlavi_idea
			add_autonomy_score = {
				value = 200
				localization = PER_red_sugiharto
			}
			PER_mohammed_reza_pahlavi = {
				add_country_leader_role = {
					country_leader = {
						expire = "1965.1.1"
						ideology = red_monarchy_ideology
						traits = {
							modernization
							reformator
							timidity
							light_of_aryans
						}	
					}
			    	promote_leader = yes
				}
			}
			set_party_name = { ideology = communism long_name = PER_red_sugiharto_party_long name = PER_red_sugiharto_party }
		}
	}
	
	focus = {
		id = PER_attract_nationalist_and_conservative_elements
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = PER_red_sugiharto }
		x = 0
		y = 1
		relative_position_id = PER_red_sugiharto

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_nationalist_and_conservative_elements"
			add_autonomy_score = {
				value = 200
				localization = PER_attract_nationalist_and_conservative_elements
			}
			add_ideas = PER_attract_nationalist_and_conservative_elements_idea
		}
	}
	
	focus = {
		id = PER_path_of_red_monarchy
		icon = GFX_z_goal_red_monarchy
		prerequisite = { focus = PER_attract_nationalist_and_conservative_elements }
		x = 0
		y = 1
		relative_position_id = PER_attract_nationalist_and_conservative_elements

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_path_of_red_monarchy"
			set_rule = { can_create_factions = yes }
			create_faction = PER_red_monarchists
			every_other_country = {
				limit = { has_government = monarchy }
				country_event = { id = NWpersian.227 hours = 3 }
			}
		}
	}
	
	
	#########################
	#### FASCISM SECTION ####
	#########################
	
	focus = {
		id = PER_concessions_for_germanophiles
		icon = GFX_z_goal_power_fascist_council
		prerequisite = { focus = PER_treaty_with_germany }
		x = 0
		y = 1
		relative_position_id = PER_treaty_with_germany

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.01.01
			}
			modifier = {
				factor = 3
				is_historical_focus_on = yes
				date > 1942.01.01
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
			}
		}
		available = {
			has_country_flag = PER_concessions_for_germanophiles_flag
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_concessions_for_germanophiles"
			add_political_power = 100
			add_timed_idea = { idea = PER_concessions_for_germanophiles days = 365 }
		}
	}
	
	focus = {
		id = PER_compromise_with_muslim_clergy
		icon = GFX_z_goal_r_shiism
		prerequisite = { focus = PER_concessions_for_germanophiles }
		x = 2
		y = 1
		relative_position_id = PER_concessions_for_germanophiles

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_compromise_with_muslim_clergy"
			add_ideas = PER_compromise_with_muslim_clergy
			#if = {
			#	limit = { has_idea = PER_influential_clergy }
			#	swap_ideas = {
			#		remove_idea = PER_influential_clergy
			#		add_idea = PER_puppet_clergy
			#	}
			#}
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = 5 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
				set_temp_variable = { PER_influence_of_clergy_temp = 3 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_hatred_of_semitic_sunnism
		icon = GFX_z_goal_muslims_on_fire
		prerequisite = { focus = PER_compromise_with_muslim_clergy }
		x = 0
		y = 1
		relative_position_id = PER_compromise_with_muslim_clergy

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
		
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_hatred_of_semitic_sunnism"
			add_war_support = 0.05
			add_ideas = PER_hatred_of_semitic_sunnism
		}
	}
	
	focus = {
		id = PER_ulama_in_army
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PER_hatred_of_semitic_sunnism }
		x = 0
		y = 1
		relative_position_id = PER_hatred_of_semitic_sunnism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_ulama_in_army"
			add_ideas = PER_ulama_in_army
		}
	}
	
	focus = {
		id = PER_magnify_heydar
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = PER_concessions_for_germanophiles }
		x = 0
		y = 1
		relative_position_id = PER_concessions_for_germanophiles

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_magnify_heydar"
			add_political_power = 100
			add_stability = 0.15
		}
	}
	
	focus = {
		id = PER_popularize_boy_scout_organizations
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = PER_unnecessary_to_abolish_monarchy }
		prerequisite = { focus = PER_magnify_heydar }
		x = 0
		y = 2
		relative_position_id = PER_magnify_heydar

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_popularize_boy_scout_organizations"
			add_ideas = PER_popularize_boy_scout_organizations_idea
		}
	}
	
	focus = {
		id = PER_new_leader_nowbakht
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = PER_popularize_boy_scout_organizations }
		mutually_exclusive = { focus = PER_third_force_of_hitlerism }
		x = 0
		y = 1
		relative_position_id = PER_popularize_boy_scout_organizations

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_new_leader_nowbakht"
			add_war_support = 0.1
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					NOT = { has_country_leader = { name = "John Smith" ruling_only = no } }
				}
				random_other_country = {
					limit = {
						has_character = PER_habiballah_nowbakt
					}
					PER_habiballah_nowbakt = {
						set_nationality = ROOT
					}
				}
				if = {
					limit = { ROOT = { has_character = PER_habiballah_nowbakt } }
					promote_character = PER_habiballah_nowbakt
				}
			}
		}
	}
	
	focus = {
		id = PER_third_force_of_hitlerism
		icon = GFX_goal_support_fascism
		prerequisite = { focus = PER_popularize_boy_scout_organizations }
		mutually_exclusive = { focus = PER_new_leader_nowbakht }
		x = 2
		y = 1
		relative_position_id = PER_popularize_boy_scout_organizations

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			GFA = {
				exists = yes
				has_government = fascism
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_third_force_of_hitlerism"
			PER_fazlollah_zahedi = {
				add_country_leader_role = {
					country_leader = {
						expire = "1965.1.1"
						ideology = nazism
						traits = {
							narcissistic_general
						}	
					}
				    promote_leader = yes
				}
			}
			if = {
				limit = { NOT = { is_in_faction_with = GFA } }
				GFA = { country_event = { id = generic.2 } }
			}
			unlock_decision_category_tooltip = PER_greatness_of_leader_zahedi_category
		}
	}
	
	focus = {
		id = PER_secure_eastern_border
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = PER_new_leader_nowbakht }
		x = 0
		y = 1
		relative_position_id = PER_new_leader_nowbakht

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				has_war_with = AFG
				is_in_faction_with = AFG
				AFG = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_secure_eastern_border"
			create_wargoal = {
				type = annex_everything
				target = AFG
			}
			add_ai_strategy = {
				type = antagonize
				id = "AFG"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "AFG"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_oil_fields_of_mosul
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = PER_secure_eastern_border }
		x = 0
		y = 1
		relative_position_id = PER_secure_eastern_border

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				is_in_faction_with = IRQ
				IRQ = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_oil_fields_of_mosul"
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
			add_ai_strategy = {
				type = antagonize
				id = "IRQ"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "IRQ"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_middle_east_decolonization
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = PER_oil_fields_of_mosul }
		x = 0
		y = 1
		relative_position_id = PER_oil_fields_of_mosul

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_middle_east_decolonization"
			every_state = {
				limit = {
					OR = {
						is_core_of = SYR
						is_core_of = BPL
						is_core_of = LEB
						is_core_of = JOR
					}
				}
				add_claim_by = ROOT
				controller = {
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = PER_only_one_hegemon_in_region
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = PER_oil_fields_of_mosul }
		x = 2
		y = 1
		relative_position_id = PER_oil_fields_of_mosul

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				has_war_with = TUR
				is_in_faction_with = TUR
				TUR = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_only_one_hegemon_in_region"
			create_wargoal = {
				type = annex_everything
				target = TUR
			}
			add_ai_strategy = {
				type = antagonize
				id = "TUR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "TUR"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_update_countrys_military_potential
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = PER_third_force_of_hitlerism }
		x = 0
		y = 2
		relative_position_id = PER_third_force_of_hitlerism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_update_countrys_military_potential"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_control_of_strait_of_hormuz
		icon = GFX_z_goal_london_disagreement
		prerequisite = { focus = PER_new_leader_nowbakht focus = PER_third_force_of_hitlerism }
		x = 1
		y = 1
		relative_position_id = PER_third_force_of_hitlerism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
			owns_state = 935
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_control_of_strait_of_hormuz"
			935 = { owner = { country_event = { id = NWpersian.60 days = 1 } } }
		}
	}
	
	focus = {
		id = PER_azerbaijans_tidbit
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = PER_control_of_strait_of_hormuz }
		x = 1
		y = 1
		relative_position_id = PER_control_of_strait_of_hormuz

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_azerbaijans_tidbit"
			every_state = {
				limit = {
					OR = {
						state = 895
						state = 896
						state = 229
					}
				}
				add_claim_by = ROOT
				controller = {
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
		}
	}
	
	
	################################
	#### WESTERNIZATION SECTION ####
	################################
	
	focus = {
		id = PER_dictatorship_of_reza_shah_pahlavi
		icon = GFX_z_goal_Reza_pahlevi
		x = 12
		y = 0
		relative_position_id = PER_modernization_at_expense_of_great_powers

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			NOT = { has_country_leader = { character = PER_reza_shah_pahlavi } }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_dictatorship_of_reza_shah_pahlavi"
			add_political_power = 200
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = -2 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			hidden_effect = {
				if = {
					limit = { any_unit_leader = { has_id = 5074 } }
					country_event = { id = NWpersian.94 days = 1 }
				}
			}
		}
	}
	
	focus = {
		id = PER_trial_communists
		icon = GFX_z_goal_sud_ref
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		x = 1
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_MONARCHY
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
				}
			}
		}
		available = {
			NOT = {
				has_government = communism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_trial_communists"
			add_stability = 0.1
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			PER = {
		  	 	PER_iraj_eskandari = {
					add_country_leader_role = {
						country_leader = {
							expire = "1965.1.1"
							ideology = stalinism
							traits = {
							}	
						}
				  	  promote_leader = yes
					}
				}
			}	
			set_party_name = { ideology = communism long_name = PER_communism_53_party name = PER_communism_53_party }
			custom_effect_tooltip = PER_trial_communists_tt
			set_country_flag = PER_trial_communists_flag
			hidden_effect = { set_cosmetic_tag = PER_tudeh }
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = 1 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
			}
		}
	}
	
	focus = {
		id = PER_change_prime_minister
		icon = GFX_z_goal_uncertainty_in_government
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		x = 3
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				date > 1939.07.01
				is_historical_focus_on = yes
			}
		}
		available = {
			date > 1939.01.01
			OR = {
				has_government = monarchy
				has_government = democratic
			}
			NOT = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_change_prime_minister"
			add_political_power = 150
			country_event = { id = NWpersian.92 }
		}
	}
	
	focus = {
		id = PER_empowerment_women
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		mutually_exclusive = { focus = PER_stop_promotion_of_westernization }
		x = -5
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			has_idea = PER_hijabs_are_banned_idea
			NOT = {
				has_government = fascism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_empowerment_women"
			set_rule = { can_generate_female_aces = yes }
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = -1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_continued_reform
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = { focus = PER_empowerment_women }
		x = 0
		y = 1
		relative_position_id = PER_empowerment_women

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_government = fascism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_continued_reform"
			add_political_power = 50
			add_ideas = PER_continued_reform
			#custom_effect_tooltip = PER_continued_reform_tt
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = -1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_prohibit_schools_attached_mosques
		icon = GFX_z_goal_monarchism_17
		prerequisite = { focus = PER_continued_reform }
		x = -2
		y = 1
		relative_position_id = PER_continued_reform

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = {
				has_government = fascism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_prohibit_schools_attached_mosques"
			add_political_power = 100
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = -2 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_minus_tt
				set_temp_variable = { PER_influence_of_clergy_temp = -1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_translate_persian_into_latin
		icon = GFX_z_goal_develop_keyboard
		prerequisite = { focus = PER_continued_reform }
		x = 0
		y = 1
		relative_position_id = PER_continued_reform

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.01.01
			}
		}
		available = {
			NOT = {
				has_government = fascism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_translate_persian_into_latin"
			add_political_power = 100
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_tech_bonus = {
				name = PER_translate_persian_into_latin
				bonus = 1.0
				uses = 1
				category = electronics
			}
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = -1 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			custom_effect_tooltip = change_news_headline_tt
		}
	}
	
	focus = {
		id = PER_allow_women_serve_in_military
		icon = GFX_z_goal_GER_Jungsturm
		prerequisite = { focus = PER_continued_reform }
		x = 2
		y = 1
		relative_position_id = PER_continued_reform

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = {
				has_government = fascism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_allow_women_serve_in_military"
			add_political_power = 100
			add_ideas = PER_allow_women_serve_in_military_idea
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = -1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_stop_promotion_of_westernization
		icon = GFX_z_goal_stop_east_politic
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		mutually_exclusive = { focus = PER_empowerment_women }
		x = -1
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_PER_CONCESSIONS_TO_GERMANOPHILES
					has_country_flag = NW_PER_AI_PER_ISLAMIC_REVOLUTION
					has_country_flag = NW_PER_AI_MONARCHY
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			NOT = {
				has_idea = PER_hijabs_are_banned_idea
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_stop_promotion_of_westernization"
			add_stability = 0.05
			add_timed_idea = { idea = PER_stop_promotion_of_westernization_idea days = 100 }
			add_opinion_modifier = { target = TUR modifier = PER_stop_promotion_of_westernization_idea }
			TUR = { add_opinion_modifier = { target = ROOT modifier = PER_stop_promotion_of_westernization_idea } }
		}
	}
	
	focus = {
		id = PER_legalize_traditional_mens_clothing
		icon = GFX_z_goal_islamic_prayer
		prerequisite = { focus = PER_stop_promotion_of_westernization }
		x = 0
		y = 1
		relative_position_id = PER_stop_promotion_of_westernization

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_legalize_traditional_mens_clothing"
			add_stability = 0.05
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = 1 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
		}
	}
	
	focus = {
		id = PER_approve_dominant_position_of_men
		icon = GFX_z_goal_dominant_position_of_men
		prerequisite = { focus = PER_legalize_traditional_mens_clothing }
		x = 0
		y = 1
		relative_position_id = PER_legalize_traditional_mens_clothing

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_legalize_traditional_mens_clothing"
			add_stability = 0.05
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = 2 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			add_timed_idea = { idea = PER_struggle_with_suffragettes days = 100 }
		}
	}
	
	focus = {
		id = PER_invite_deputies_of_islamists_in_government
		icon = GFX_z_goal_generic_political_support
		prerequisite = { focus = PER_stop_promotion_of_westernization }
		x = 2
		y = 1
		relative_position_id = PER_stop_promotion_of_westernization

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_invite_deputies_of_islamists_in_government"
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_opinion_with_clergy_temp = 1 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			add_ideas = PER_islamists_in_government
		}
	}
	
	focus = {
		id = PER_remove_bench_from_mosques
		icon = GFX_z_goal_monarchism_17
		prerequisite = { focus = PER_invite_deputies_of_islamists_in_government }
		x = 0
		y = 1
		relative_position_id = PER_invite_deputies_of_islamists_in_government

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_remove_bench_from_mosques"
			add_stability = 0.025
			add_popularity = { ideology = var:ROOT.current_party_ideology_group popularity = 0.07 }
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = 1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_plus_tt
				set_temp_variable = { PER_opinion_with_clergy_temp = 2 }
				add_to_variable = { opinion_with_clergy_var = PER_opinion_with_clergy_temp }
				custom_effect_tooltip = PER_opinion_with_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			hidden_effect = {
				if = {
					limit = { has_country_leader = { character = PER_reza_shah_pahlavi } }
					country_event = { id = NWpersian.93 days = 7 }
				}
			}
		}
	}
	
	
	###############################
	#### AGAIN FASCISM SECTION ####
	###############################
	
	focus = {
		id = PER_islamic_revolution
		icon = GFX_z_goal_islamic_revolution
		#prerequisite = { focus = PER_prohibit_schools_attached_mosques focus = PER_translate_persian_into_latin focus = PER_allow_women_serve_in_military }
		mutually_exclusive = { focus = PER_islamist_monarchist_reaction focus = PER_last_blow_to_confessors focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		x = 0
		y = 1
		relative_position_id = PER_translate_persian_into_latin

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 50
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_PER_ISLAMIC_REVOLUTION
			}
		}
		available = {
			has_country_flag = PER_islamic_revolution_flag
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_islamic_revolution"
			set_country_flag = PER_islamic_revolution_block_flag
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			ENG = {
				remove_resource_rights = 411
				remove_resource_rights = 412
				remove_resource_rights = 413
				#country_event = { id = NWpersian.1 }
			}
			if = {
				limit = {
					is_in_faction = yes
					FACTION_LEADER = {
						NOT = { has_government = fascism }
					}
				}
				leave_faction = yes
			}
			if = {
				limit = { has_idea = PER_self_confidence_of_iranian_elites }
				remove_ideas = PER_self_confidence_of_iranian_elites
			}
			set_variable = { opinion_with_clergy_var = 10 }
			set_variable = { influence_of_clergy_var = 10 }
			custom_effect_tooltip = PER_islamic_revolution_fix_var_tt
			set_opinion_with_clergy_var = yes
			set_influence_clergy_Value = yes
		}
	}
	
	focus = {
		id = PER_awe_of_allah
		icon = GFX_z_goal_awe_of_allah
		prerequisite = { focus = PER_islamic_revolution }
		x = -2
		y = 1
		relative_position_id = PER_islamic_revolution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_awe_of_allah"
			add_ideas = PER_awe_of_allah
			custom_effect_tooltip = PER_awe_of_allah_tt
		}
	}
	
	focus = {
		id = PER_holy_jihad
		icon = GFX_z_goal_holy_jihad
		prerequisite = { focus = PER_awe_of_allah }
		x = 0
		y = 1
		relative_position_id = PER_awe_of_allah

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_holy_jihad"
			add_ideas = PER_holy_jihad
			add_named_threat = { 
				threat = 1
				name = PER_holy_jihad
			}
			set_country_flag = state_coup_flag
			custom_effect_tooltip = state_coup_tt
			hidden_effect = { news_event = { hours = 6 id = trworldnews.99 } }
		}
	}
	
	focus = {
		id = PER_cancel_godless_reform
		icon = GFX_z_goal_anul_eretik_reforms
		prerequisite = { focus = PER_islamic_revolution }
		x = 0
		y = 1
		relative_position_id = PER_islamic_revolution

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_cancel_godless_reform"
			add_political_power = 100
			add_popularity = {
				ideology = monarchy
				popularity = -0.15
			}
			remove_ideas = PER_continued_reform
			effect_tooltip = {
				remove_ideas = PER_allow_women_serve_in_military_idea
				remove_ideas = PER_hijabs_are_banned_idea
			}
			hidden_effect = {
				if = {
					limit = { has_idea = PER_allow_women_serve_in_military_idea }
					remove_ideas = PER_allow_women_serve_in_military_idea
				}
				if = {
					limit = { has_idea = PER_hijabs_are_banned_idea }
					remove_ideas = PER_hijabs_are_banned_idea
				}
			}
		}
	}
	
	focus = {
		id = PER_restore_rights_aristocracy
		icon = GFX_z_goal_restore_rights_aristocracy
		prerequisite = { focus = PER_cancel_godless_reform }
		x = 0
		y = 1
		relative_position_id = PER_cancel_godless_reform

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_restore_rights_aristocracy"
			add_stability = 0.05
			add_timed_idea = { idea = PER_restore_rights_aristocracy_idea days = 300 }
			capital_scope = { add_extra_state_shared_building_slots = 1 }
		}
	}
	
	focus = {
		id = PER_war_against_sunnis
		icon = GFX_z_goal_flames_of_rebellion
		prerequisite = { focus = PER_holy_jihad }
		prerequisite = { focus = PER_restore_rights_aristocracy }
		x = 1
		y = 1
		relative_position_id = PER_holy_jihad

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_war_against_sunnis"
			add_war_support = 0.1
			every_other_country = {
				limit = {
					OR = {
						original_tag = AFG
						original_tag = TUR
						original_tag = SYR
						original_tag = LEB
						original_tag = BPL
						original_tag = JOR
						original_tag = SAU
						original_tag = IOM
						AND = {
							original_tag = YEM
							is_subject = no
						}
						#AND = {
						#	original_tag = OMA
						#	NOT = { has_completed_focus = OMA_proshiite_reforms }
						#}
					}
				}
				add_opinion_modifier = { target = ROOT modifier = PER_war_against_sunnis }
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -1000
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 500
				}
				ROOT = {
					add_opinion_modifier = { target = PREV modifier = PER_war_against_sunnis }
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -1000
					}
					add_ai_strategy = {
						type = antagonize
						id = PREV
						value = 500
					}
				}
			}
			if = {
				limit = { YEM = { is_subject = no } }
				country_event = { id = NWpersian.83 days = 1 }
			}
			set_rule = { can_create_factions = yes }
			if = {
				limit = { is_in_faction = no }
				create_faction = PER_islamic_world
			}
			else_if = {
				limit = { is_faction_leader = yes }
				set_faction_name = PER_islamic_world
			}
		}
	}
	
	focus = {
		id = PER_conquest_of_afghanistan
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = PER_war_against_sunnis }
		x = 0
		y = 1
		relative_position_id = PER_war_against_sunnis

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				has_war_with = AFG
				is_in_faction_with = AFG
				AFG = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_conquest_of_afghanistan"
			create_wargoal = {
				type = annex_everything
				target = AFG
			}
			add_ai_strategy = {
				type = antagonize
				id = "AFG"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "AFG"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_behead_godless_turk
		icon = GFX_z_goal_guillotine
		prerequisite = { focus = PER_conquest_of_afghanistan }
		x = -1
		y = 2
		relative_position_id = PER_conquest_of_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				has_war_with = TUR
				is_in_faction_with = TUR
				TUR = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_behead_godless_turk"
			create_wargoal = {
				type = annex_everything
				target = TUR
			}
			add_ai_strategy = {
				type = antagonize
				id = "TUR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "TUR"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_conquest_iraq
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = PER_conquest_of_afghanistan }
		mutually_exclusive = { focus = PER_come_an_agreement_with_iraq }
		x = 0
		y = 1
		relative_position_id = PER_conquest_of_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				is_in_faction_with = IRQ
				IRQ = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_conquest_iraq"
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
			add_ai_strategy = {
				type = antagonize
				id = "IRQ"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "IRQ"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_come_an_agreement_with_iraq
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = PER_conquest_of_afghanistan }
		mutually_exclusive = { focus = PER_conquest_iraq }
		x = 2
		y = 1
		relative_position_id = PER_conquest_of_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 15
		}
		available = {
			is_subject = no
			IRQ = {
				is_subject = no
				NOT = {
					has_war_with = ROOT
					has_government = communism
					has_government = trozkism
					has_government = anarchism
					has_government = democratic
				}
			}
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				is_in_faction_with = IRQ
				IRQ = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_come_an_agreement_with_iraq"
			IRQ = { country_event = { id = NWpersian.81 days = 1 } }
		}
	}
	
	focus = {
		id = PER_prophets_homeland
		icon = GFX_z_goal_prophets_homeland_2
		prerequisite = { focus = PER_conquest_iraq focus = PER_come_an_agreement_with_iraq }
		x = 1
		y = 1
		relative_position_id = PER_conquest_iraq

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_prophets_homeland"
			if = {
				limit = { country_exists = SAU }
				create_wargoal = {
					type = annex_everything
					target = SAU
				}
			}
			add_ai_strategy = {
				type = antagonize
				id = "SAU"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "SAU"
				value = 200
			}
			unlock_decision_tooltip = PER_return_of_mecca
		}
	}
	
	focus = {
		id = PER_shia_islamic_state
		icon = GFX_z_goal_shia_islamic_state
		prerequisite = { focus = PER_prophets_homeland }
		prerequisite = { focus = PER_behead_godless_turk }
		x = -1
		y = 1
		relative_position_id = PER_prophets_homeland

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 679
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_shia_islamic_state"
			add_named_threat = { 
				threat = 5
				name = PER_shia_islamic_state
			}
			set_cosmetic_tag = PER_islamic_state
			add_ideas = PER_shia_islamic_state_idea
			custom_effect_tooltip = PER_shia_islamic_state_tt
			hidden_effect = {
				every_state = {
					limit = {
						NOT = { owner = { tag = ROOT } }
						OR = {
							state = 656
							state = 1097
							state = 773
							state = 658
							state = 944
							state = 659
							state = 293
							state = 941
							state = 943
							state = 942
							state = 294
							state = 1054
							state = 1053
							state = 455
							state = 978
							state = 454
							state = 980
							state = 979
							state = 553
							state = 1055							
							state = 680
							state = 554
							state = 677
							state = 961
							state = 954
							state = 441
							state = 1018
							state = 442
							state = 440
							state = 445
							state = 443
							state = 444
							state = 672
							state = 335
							state = 334
							state = 673
							state = 667
							state = 668
							state = 669
							is_core_of = EGY
							is_core_of = LBA
							is_core_of = MOR
							is_core_of = TUN
							is_core_of = ALG
							is_core_of = SUD
							is_core_of = TMS
							is_core_of = TAJ
							is_core_of = UZB
							is_core_of = KYR
							is_core_of = KAZ
							is_core_of = AZR
							is_core_of = SIK
							is_core_of = ALB
							is_core_of = BOS
							
						}
					}
					add_claim_by = ROOT
					owner = {
						ROOT = {
							create_wargoal = {
								type = annex_everything
								target = PREV
							}
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = conquer
								id = PREV
								value = 200
							}
						}
					}
				}
			}
			unlock_decision_category_tooltip = PER_unite_islamic_world_category
		}
	}
	
	focus = {
		id = PER_revenge_on_crusaders
		icon = GFX_z_goal_monarchism_21
		prerequisite = { focus = PER_shia_islamic_state }
		x = 0
		y = 1
		relative_position_id = PER_shia_islamic_state

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			OR = {
				country_exists = GRE
				country_exists = YUG
				country_exists = ITA
				country_exists = VAT
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_revenge_on_crusaders"
			every_other_country = {
				limit = {
					OR = {
						tag = GRE
						tag = YUG
						tag = ITA
						tag = VAT
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
					add_ai_strategy = {
						type = antagonize
						id = PREV
						value = 200
					}
					add_ai_strategy = {
						type = conquer
						id = PREV
						value = 200
					}
				}
			}
			unlock_decision_tooltip = PER_desecrate_vatican
		}
	}
	
	focus = {
		id = PER_allahu_akbar
		icon = GFX_z_goal_allahu_akbar
		prerequisite = { focus = PER_revenge_on_crusaders }
		x = 0
		y = 1
		relative_position_id = PER_revenge_on_crusaders

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			has_full_control_of_state = 1099
			has_full_control_of_state = 266
			has_full_control_of_state = 410
			has_full_control_of_state = 411
			has_full_control_of_state = 412
			has_full_control_of_state = 413
			has_full_control_of_state = 414
			has_full_control_of_state = 416
			has_full_control_of_state = 417
			has_full_control_of_state = 418
			has_full_control_of_state = 419
			has_full_control_of_state = 420
			has_full_control_of_state = 421
			has_full_control_of_state = 963
			has_full_control_of_state = 819
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_allahu_akbar"
			custom_effect_tooltip = PER_allahu_akbar_tt
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Divisions of Allah" } }
					division_template = {
						name = "Divisions of Allah"
						is_locked = no
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
							infantry = { x = 3 y = 0 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Divisions of Allah\" division_template = \"Divisions of Allah\" start_experience_factor = 0.6" 
						owner = ROOT
						count = 10
					}
				}
			}
			add_ideas = PER_allahu_akbar
			custom_effect_tooltip = PER_allahu_akbar_ttt
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							is_guaranteed_by = ROOT
						}
					}
					ROOT = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = PER_weakening_influence_clergy
		icon = GFX_z_goal_muslims_on_fire
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		mutually_exclusive = { focus = PER_use_clergy_in_propaganda }
		x = 5
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_MONARCHY
				}
			}
		}
		available = {
			has_completed_focus = PER_continued_reform
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_weakening_influence_clergy"
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = -1 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_minus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			#swap_ideas = {
			#	remove_idea = PER_influential_clergy
			#	add_idea = PER_significant_clergy
			#}
		}
	}
	
	focus = {
		id = PER_weakening_influence_aristocracy
		icon = GFX_focus_rom_parties_end
		prerequisite = { focus = PER_weakening_influence_clergy }
		x = 0
		y = 1
		relative_position_id = PER_weakening_influence_clergy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_weakening_influence_aristocracy"
			add_stability = 0.1
			add_political_power = 50
		}
	}
	
	focus = {
		id = PER_use_clergy_in_propaganda
		icon = GFX_z_goal_Mislim_propaganda
		prerequisite = { focus = PER_dictatorship_of_reza_shah_pahlavi }
		mutually_exclusive = { focus = PER_weakening_influence_clergy }
		x = 7
		y = 1
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_PER_PRO_SOVIET_GOVERNMENT
					has_country_flag = NW_PER_AI_MONARCHY
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			has_completed_focus = PER_invite_deputies_of_islamists_in_government
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_use_clergy_in_propaganda"
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = 2 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			add_ideas = PER_use_clergy_in_propaganda_idea
		}
	}
	
	focus = {
		id = PER_enslave_large_landowners
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = PER_use_clergy_in_propaganda }
		x = 0
		y = 1
		relative_position_id = PER_use_clergy_in_propaganda

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag has_country_flag = PER_islamic_revolution_block_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_enslave_large_landowners"
			if = {
				limit = { has_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier } }
				set_temp_variable = { PER_influence_of_clergy_temp = 2 }
				add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
				custom_effect_tooltip = PER_influence_of_clergy_plus_tt
				set_opinion_with_clergy_var = yes
				set_influence_clergy_Value = yes
			}
			add_ideas = PER_enslave_large_landowners_idea
		}
	}
	
	
	############################
	####					####
	############################
	
	focus = {
		id = PER_islamist_monarchist_reaction
		icon = GFX_z_goal_muslims_friend
		prerequisite = { focus = PER_approve_dominant_position_of_men }
		prerequisite = { focus = PER_remove_bench_from_mosques }
		mutually_exclusive = { focus = PER_islamic_revolution focus = PER_last_blow_to_confessors focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		x = 1
		y = 1
		relative_position_id = PER_approve_dominant_position_of_men

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 50
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = PER_islamist_monarchist_reaction_trigger_tt
				check_variable = { opinion_with_clergy_var > 8 }
			}
			custom_trigger_tooltip = {
				tooltip = PER_islamist_monarchist_reaction_trigger_ttt
				check_variable = { influence_of_clergy_var > 5 }
			}
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_islamist_monarchist_reaction"
			add_political_power = 150
			hidden_effect = {
			    country_event = { id = NWpersian.9 days = 14 }
			}	
		}
	}
	
	
	############################
	#### THREE WAYS SECTION ####
	############################
	
	focus = {
		id = PER_last_blow_to_confessors
		icon = GFX_z_goal_last_blow_to_islam
		prerequisite = { focus = PER_weakening_influence_aristocracy }
		mutually_exclusive = { focus = PER_islamic_revolution focus = PER_islamist_monarchist_reaction focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		x = 0
		y = 2
		relative_position_id = PER_weakening_influence_aristocracy

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 50
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_PER_AI_MONARCHY
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			#has_country_flag = PER_last_blow_to_confessors_flag
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			custom_trigger_tooltip = {
				tooltip = opinion_with_clergy_var_trigger_tt
				OR = {
					check_variable = { influence_of_clergy_var = 0 }
					check_variable = { influence_of_clergy_var = 1 }
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_last_blow_to_confessors"
			add_stability = 0.1
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			remove_dynamic_modifier = { modifier = PER_influence_of_clergy_dynamic_modifier }
			custom_effect_tooltip = PER_last_blow_to_confessors_tt
			clear_variable = opinion_with_clergy_var
			clear_variable = influence_of_clergy_var
			
			#set_temp_variable = { PER_influence_of_clergy_temp = -1 }
			#add_to_variable = { influence_of_clergy_var = PER_influence_of_clergy_temp }
			#custom_effect_tooltip = PER_influence_of_clergy_minus_tt
			#set_opinion_with_clergy_var = yes
			#set_influence_clergy_Value = yes
		}
	}
	
	focus = {
		id = PER_keep_personal_dictatorship
		icon = GFX_z_goal_iran_monarhy_win
		prerequisite = {
			focus = PER_islamist_monarchist_reaction
			focus = PER_last_blow_to_confessors
		}
		mutually_exclusive = { focus = PER_right_free_nomination_delegate }
		x = -4
		y = 1
		relative_position_id = PER_last_blow_to_confessors

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_MONARCHY
			}
			modifier = {
				add = 500
				has_completed_focus = PER_trial_communists
				OR = {
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				has_government = communism
				has_government = trozkism
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_keep_personal_dictatorship"
			add_ideas = PER_dictatorship_of_shah
			country_event = { id = NWpersian.10 days = 1 }
			hidden_effect = {
				if = {
					limit = { NOT = { has_completed_focus = PER_trial_communists } }
					country_event = { id = NWpersian.11 days = 7 }
				}
				else = {
					country_event = { id = NWpersian.12 days = 7 }
					country_event = { id = NWpersian.14 days = 28 }
				}
				SOV = { country_event = { id = NWpersian.13 days = 14 } }
			}
			custom_effect_tooltip = PER_keep_personal_dictatorship_tt
		}
	}
	
	##########################
	#### MONARCHY SECTION ####
	##########################
	
	focus = {
		id = PER_eliminate_left_wing_parties
		icon = GFX_z_goal_PER_eliminate_left_wing_parties
		prerequisite = { focus = PER_keep_personal_dictatorship }
		mutually_exclusive = { focus = PER_coup_of_peoples_party_iran }
		x = -3
		y = 1
		relative_position_id = PER_keep_personal_dictatorship

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_MONARCHY
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
				}
			}
		}
		available = {
			NOT = {
				has_government = communism
				has_government = trozkism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_eliminate_left_wing_parties"
			remove_ideas = PER_growing_popularity_of_npi
			add_popularity = {
				ideology = communism
				popularity = -0.3
			}
		}
	}
	
	focus = {
		id = PER_strike_blow_conservative_owners
		icon = GFX_z_goal_nationalization_heavy_industry
		prerequisite = { focus = PER_eliminate_left_wing_parties }
		x = 3
		y = 1
		relative_position_id = PER_eliminate_left_wing_parties

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strike_blow_conservative_owners"
			unlock_decision_category_tooltip = PER_nationalization_of_property_of_large_aristocracy_category
		}
	}
	
	focus = {
		id = PER_get_rid_dissent
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = PER_strike_blow_conservative_owners }
		x = 0
		y = 1
		relative_position_id = PER_strike_blow_conservative_owners

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_get_rid_dissent"
			remove_ideas = PER_significant_clergy
			if = {
				limit = { has_government = monarchy }
				add_ideas = PER_get_rid_dissent
			}
			if = {
				limit = { has_government = fascism }
				add_ideas = PER_get_rid_dissent_fash
			}
		}
	}
	
	focus = {
		id = PER_set_totalitarian_regime
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = PER_eliminate_left_wing_parties }
		mutually_exclusive = { focus = PER_continue_aggressive_reforms }
		x = -1
		y = 1
		relative_position_id = PER_eliminate_left_wing_parties

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = {
				has_completed_focus = PER_treaty_with_soviet_union
				has_completed_focus = PER_treaty_with_germany
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
				has_country_flag = PER_set_totalitarian_regime_flag
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_set_totalitarian_regime"
			add_stability = 0.05
			add_popularity = {
				ideology = monarchy
				popularity = -0.3
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.4
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			PER_hassan_arfa = {
				add_country_leader_role = {
					country_leader = {
						expire = "1965.1.1"
						ideology = fascism_corporatism
						traits = {
						}	
					}
					promote_leader = yes
				}
			}
			set_party_name = { ideology = fascism long_name = PER_aryan_party name = PER_aryan_party }
			add_opinion_modifier = { target = ENG modifier = PER_set_totalitarian_regime_op }
			ENG = { add_opinion_modifier = { target = ROOT modifier = PER_set_totalitarian_regime_op } }
			hidden_effect = { set_cosmetic_tag = PER_aria }
			if = {
				limit = { has_idea = PER_get_rid_dissent }
				swap_ideas = {
					remove_idea = PER_get_rid_dissent
					add_idea = PER_get_rid_dissent_fash
				}
			}
		}
	}
	
	focus = {
		id = PER_absolute_militarization_of_society
		icon = GFX_z_goal_getting_rid_generals
		prerequisite = { focus = PER_set_totalitarian_regime }
		x = 0
		y = 1
		relative_position_id = PER_set_totalitarian_regime

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_absolute_militarization_of_society"
			add_war_support = 0.065
			add_ideas = { PER_absolute_militarization_of_society }
			add_ideas = { war_economy }
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_continue_aggressive_reforms
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PER_eliminate_left_wing_parties }
		mutually_exclusive = { focus = PER_set_totalitarian_regime }
		x = 1
		y = 1
		relative_position_id = PER_eliminate_left_wing_parties

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_continue_aggressive_reforms"
			add_stability = 0.1
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			if = {
				limit = { has_idea = PER_get_rid_dissent_fash }
				swap_ideas = {
					remove_idea = PER_get_rid_dissent_fash
					add_idea = PER_get_rid_dissent
				}
			}
		}
	}
	
	focus = {
		id = PER_strengthen_personal_power
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = PER_continue_aggressive_reforms }
		x = 0
		y = 1
		relative_position_id = PER_continue_aggressive_reforms

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_personal_power"
			add_political_power = 100
			swap_ideas = {
				remove_idea = PER_dictatorship_of_shah
				add_idea = PER_dictatorship_of_shah_2
			}
		}
	}
	
	focus = {
		id = PER_iranian_nationalism
		icon = GFX_z_national_greatness
		prerequisite = { focus = PER_absolute_militarization_of_society focus = PER_strengthen_personal_power }
		x = 1
		y = 1
		relative_position_id = PER_absolute_militarization_of_society

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_iranian_nationalism"
			add_ideas = PER_iranian_nationalism
		}
	}
	
	focus = {
		id = PER_fortifications_on_border_with_india
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = PER_iranian_nationalism }
		x = -1
		y = 1
		relative_position_id = PER_iranian_nationalism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			410 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fortifications_on_border_with_india"
			410 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4891
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 13082
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 10782
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 2070
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 12895
				}
			}
		}
	}
	
	focus = {
		id = PER_fortifications_on_border_with_turkey_and_iraq
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = PER_fortifications_on_border_with_india }
		x = 0
		y = 1
		relative_position_id = PER_fortifications_on_border_with_india

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			963 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			421 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			417 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fortifications_on_border_with_turkey_and_iraq"
			963 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 1636
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 7604
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 13821
				}
			}
			421 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 1822
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4943
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 5098
				}
			}
			417 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 829
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 10774
				}
			}
			413 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 7953
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 5005
				}
			}
		}
	}
	
	focus = {
		id = PER_fortifications_on_border_with_azerbaijan
		icon = GFX_z_goal_irragitional_building
		prerequisite = { focus = PER_iranian_nationalism }
		x = 1
		y = 1
		relative_position_id = PER_iranian_nationalism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			420 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			419 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fortifications_on_border_with_azerbaijan"
			420 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4609
				}
			}
			419 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4901
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 10454
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4825
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4755
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 13829
				}
			}
		}
	}
	
	focus = {
		id = PER_fortifications_on_border_with_turkmenistan
		icon = GFX_z_goal_generic_defensive_strategy
		prerequisite = { focus = PER_fortifications_on_border_with_azerbaijan }
		x = 0
		y = 1
		relative_position_id = PER_fortifications_on_border_with_azerbaijan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			266 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			416 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fortifications_on_border_with_turkmenistan"
			266 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 7602
				}
			}
			416 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 10351
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 1521
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 5029
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 2000
				}
			}
		}
	}
	
	focus = {
		id = PER_mobilize_young_people
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = PER_iranian_nationalism }
		x = 0
		y = 3
		relative_position_id = PER_iranian_nationalism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_mobilize_young_people"
			add_ideas = PER_mobilize_young_people
		}
	}
	
	focus = {
		id = PER_strike_in_advance
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = PER_mobilize_young_people }
		x = 0
		y = 1
		relative_position_id = PER_mobilize_young_people

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strike_in_advance"
			create_wargoal = {
				type = annex_everything
				target = SOV
			}
			every_state = {
				limit = {
					OR = {
						state = 584
						state = 229
						state = 896
						state = 895
					}
				}
				add_claim_by = ROOT
				owner = {
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
			add_ideas = PER_strike_in_advance
			unlock_decision_category_tooltip = PER_preparation_of_uprisings_in_soviet_union_category
		}
	}
	
	
	#################################
	#### AGAIN COMMUNISM SECTION ####
	#################################
	
	focus = {
		id = PER_coup_of_peoples_party_iran
		icon = GFX_z_goal_iran_monarhy_fail
		prerequisite = { focus = PER_keep_personal_dictatorship }
		mutually_exclusive = { focus = PER_eliminate_left_wing_parties }
		x = 4
		y = 1
		relative_position_id = PER_keep_personal_dictatorship

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_MONARCHY
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_PER_AI_TROZKIST
					has_country_flag = NW_PER_AI_COMMUNIST
				}
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
			OR = {
				has_government = communism
				has_government = trozkism
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coup_of_peoples_party_iran"
			add_popularity = {
				ideology = communism
				popularity = 0.3
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
			ENG = {
				country_event = { id = NWpersian.1 days = 1 }
				remove_resource_rights = 411
				remove_resource_rights = 412
				remove_resource_rights = 413
			}
			if = {
				limit = {
					is_subject = no
					is_in_faction = yes
				}
				leave_faction = yes
			}
			unlock_decision_category_tooltip = form_middle_east_union_category
			custom_effect_tooltip = TUR_focus_autocomplete_tt
		}
	}
	
	focus = {
		id = PER_legacy_of_gilyana
		icon = GFX_z_goal_Gilyan
		prerequisite = { focus = PER_coup_of_peoples_party_iran }
		x = -1
		y = 1
		relative_position_id = PER_coup_of_peoples_party_iran

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			420 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_legacy_of_gilyana"
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			420 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_unite_with_social_democrats
		icon = GFX_z_goal_generic_labor_democracy
		prerequisite = { focus = PER_legacy_of_gilyana }
		x = 0
		y = 1
		relative_position_id = PER_legacy_of_gilyana

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_unite_with_social_democrats"
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = -0.15
			}
		}
	}
	
	focus = {
		id = PER_create_armed_militias
		icon = GFX_z_goal_socmilirarism
		prerequisite = { focus = PER_unite_with_social_democrats }
		x = 0
		y = 1
		relative_position_id = PER_unite_with_social_democrats

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_TROZKIST
			}
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_COMMUNIST
			}
		}
		available = {
			NOT = {
				has_government = trozkism
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_create_armed_militias"
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Military Division" } }
					division_template = {
						name = "Military Division"
						is_locked = no
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
							infantry = { x = 3 y = 0 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"1. Military Division\" division_template = \"Military Division\" start_experience_factor = 0.4" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2. Military Division\" division_template = \"Military Division\" start_experience_factor = 0.4" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"3. Military Division\" division_template = \"Military Division\" start_experience_factor = 0.4" 
					owner = ROOT
				}
			}
			custom_effect_tooltip = PER_create_armed_militias_tt
		}
	}
	
	focus = {
		id = PER_refuse_stalinist_policy
		icon = GFX_z_goal_communist_discourse
		prerequisite = { focus = PER_create_armed_militias }
		mutually_exclusive = { focus = PER_fully_independent_iran focus = PER_alliance_with_soviet_union }
		x = 0
		y = 1
		relative_position_id = PER_create_armed_militias

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_TROZKIST
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_refuse_stalinist_policy"
			if = {
				limit = { is_faction_leader = yes }
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						NOT = {
							has_government = communism
							has_government = democratic
							has_government = neutrality
						}
					}
					leave_faction = yes
					hidden_effect = {
						add_ai_strategy = {
							type = befriend
							id = ROOT
							value = -100
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -200
						}
					}
				}
				set_faction_name = PER_middle_eastern_socialism
			}
			else = {
				set_rule = { can_create_factions = yes }
				if = {
					limit = {
						is_subject = no
						is_in_faction = yes
					}
					leave_faction = yes
					create_faction = PER_middle_eastern_socialism
				}
			}
		}
	}
	
	focus = {
		id = PER_alliance_with_soviet_union
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = PER_create_armed_militias }
		mutually_exclusive = { focus = PER_fully_independent_iran focus = PER_refuse_stalinist_policy }
		x = 2
		y = 1
		relative_position_id = PER_create_armed_militias

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = PER_NWpersian_37_flag
			}
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_TROZKIST
			}
		}
		available = {
			SOV = {
				is_faction_leader = yes
				has_government = communism
			}
			NOT = {
				has_war_with = SOV
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			OR = {
				is_in_faction_with = SOV
				NOT = { country_exists = SOV }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_alliance_with_soviet_union"
			SOV = { country_event = { id = generic.2 days = 1 } }
		}
	}
	
	focus = {
		id = PER_expand_oil_production
		icon = GFX_z_goal_oil_derrick
		prerequisite = { focus = PER_create_armed_militias focus = PER_provide_soviet_oil_concession }
		x = 4
		y = 1
		relative_position_id = PER_create_armed_militias

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			411 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			412 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_expand_oil_production"
			411 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
			412 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
			413 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
			add_tech_bonus = {
				name = PER_expand_oil_production
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
		}
	}
	
	focus = {
		id = PER_afghan_socialism
		icon = GFX_z_goal_generic_party_leadership
		prerequisite = { focus = PER_refuse_stalinist_policy focus = PER_alliance_with_soviet_union }
		x = 1
		y = 1
		relative_position_id = PER_refuse_stalinist_policy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				is_in_faction_with = AFG
				owns_state = 267
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_afghan_socialism"
			if = {
				limit = {
					is_faction_leader = yes
					AFG = {
						is_subject = no
						has_government = communism
					}
				}
				AFG = { country_event = { id = generic.5 days = 1 } }
			}
			else_if = {
				limit = {
					AFG = {
						is_subject = no
					}
				}
				AFG = { country_event = { id = NWpersian.16 days = 1 } }
			}
			else = {
				every_state = {
					limit = {
						is_core_of = AFG
					}
					add_claim_by = ROOT
				}
				add_ai_strategy = {
					type = antagonize
					id = "AFG"
					value = 200
				}
				add_ai_strategy = {
					type = conquer
					id = "AFG"
					value = 200
				}
			}
		}
	}
	
	focus = {
		id = PER_overthrow_iraqi_kings
		icon = GFX_focus_rom_abdicate
		prerequisite = { focus = PER_afghan_socialism }
		x = -1
		y = 1
		relative_position_id = PER_afghan_socialism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				is_in_faction_with = IRQ
				IRQ = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_overthrow_iraqi_kings"
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
			add_ai_strategy = {
				type = antagonize
				id = "IRQ"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "IRQ"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_communism_in_holy_city_muslims
		icon = GFX_z_goal_communist_pride
		prerequisite = { focus = PER_afghan_socialism }
		x = 1
		y = 1
		relative_position_id = PER_afghan_socialism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = SAU }
				has_war_with = SAU
				is_in_faction_with = SAU
				SAU = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_communism_in_holy_city_muslims"
			create_wargoal = {
				type = annex_everything
				target = SAU
			}
			add_ai_strategy = {
				type = antagonize
				id = "SAU"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "SAU"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_unity_of_iranian_people
		icon = GFX_z_goal_generic_popular_democracy
		prerequisite = { focus = PER_afghan_socialism }
		x = 3
		y = 1
		relative_position_id = PER_afghan_socialism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			267 = {
				owner = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_unity_of_iranian_people"
			if = {
				limit = {
					742 = {
						owner = {
							OR = { 
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					OR = {
						is_in_faction_with = SOV
						is_subject_of = SOV
					}
				}
				SOV = { country_event = { id = NWpersian.18 days = 1 } }
			}
			else = { add_state_claim = 742 }
		}
	}
	
	focus = {
		id = PER_defeat_of_kemalism
		icon = GFX_z_goal_communist_revolt
		prerequisite = { focus = PER_overthrow_iraqi_kings }
		prerequisite = { focus = PER_communism_in_holy_city_muslims }
		x = 1
		y = 1
		relative_position_id = PER_overthrow_iraqi_kings

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				has_war_with = TUR
				is_in_faction_with = TUR
				TUR = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_defeat_of_kemalism"
			create_wargoal = {
				type = annex_everything
				target = TUR
			}
			add_ai_strategy = {
				type = antagonize
				id = "TUR"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "TUR"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_organization_councils_in_country
		icon = GFX_z_goal_organization_councils_in_iran
		prerequisite = { focus = PER_coup_of_peoples_party_iran focus = PER_implement_principles_socialism }
		x = 1
		y = 1
		relative_position_id = PER_coup_of_peoples_party_iran

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_organization_councils_in_country"
			every_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 266
						state = 418
						state = 419
						state = 413
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	
	##########################
	#### TROZKISM SECTION ####
	##########################
	
	focus = {
		id = PER_provide_soviet_oil_concession
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = PER_unite_with_social_democrats }
		x = -2
		y = 1
		relative_position_id = PER_unite_with_social_democrats

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			if = {
				limit = { NOT = { has_country_flag = PER_troz_revolt_flag } }
				NOT = { has_war_with = SOV }
				419 = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
				420 = {
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
			}
			else = { NOT = { has_country_flag = PER_troz_revolt_flag } }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_provide_soviet_oil_concession"
			if = {
				limit = { NOT = { has_country_flag = PER_troz_revolt_flag } }
				SOV = { country_event = { id = NWpersian.35 days = 1 } }
				custom_effect_tooltip = PER_provide_soviet_oil_concession_tt
			}
			else = { custom_effect_tooltip = PER_provide_soviet_oil_concession_ttt }
		}
	}
	
	focus = {
		id = PER_fully_independent_iran
		icon = GFX_z_focus_revolutionary_council
		prerequisite = { focus = PER_provide_soviet_oil_concession }
		mutually_exclusive = { focus = PER_refuse_stalinist_policy focus = PER_alliance_with_soviet_union }
		x = 0
		y = 1
		relative_position_id = PER_provide_soviet_oil_concession

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_TROZKIST
			}
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_COMMUNIST
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fully_independent_iran"
			add_popularity = {
				ideology = trozkism
				popularity = 0.15
			}
			set_politics = {
				ruling_party = trozkism
				elections_allowed = yes
			}
			
			custom_effect_tooltip = PER_fully_independent_iran_tt
		}
	}
	
	focus = {
		id = PER_accept_nationalist_slogans
		icon = GFX_z_goal_generic_party_leadership_marx
		prerequisite = { focus = PER_fully_independent_iran }
		x = 1
		y = 1
		relative_position_id = PER_fully_independent_iran

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_accept_nationalist_slogans"
			add_ideas = PER_accept_nationalist_slogans_idea
		}
	}
	
	focus = {
		id = PER_formation_of_independent_economy
		icon = GFX_z_goal_socialist_industry
		prerequisite = { focus = PER_fully_independent_iran }
		x = -1
		y = 1
		relative_position_id = PER_fully_independent_iran

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_formation_of_independent_economy"
			add_ideas = closed_economy
			add_ideas = PER_formation_of_independent_economy_idea
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_union_with_turkey
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = PER_formation_of_independent_economy }
		mutually_exclusive = { focus = PER_peace_to_small_people }
		x = -1
		y = 1
		relative_position_id = PER_formation_of_independent_economy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 30
		}
		available = {
			TUR = {
				has_government = trozkism
				is_faction_leader = yes
			}
			NOT = {
				has_war_with = TUR
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			OR = {
				is_in_faction_with = GER
				NOT = { country_exists = GER }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_union_with_turkey"
			TUR = { country_event = { id = generic.2 days = 1 } }
			set_temp_variable = { troz_threat_temp_var = 1 }
			add_to_variable = { global.troz_threat_var = troz_threat_temp_var }
			custom_effect_tooltip = troz_threat_tt1
			set_var_for_troz_threat_dyn = yes
		}
	}
	
	focus = {
		id = PER_peace_to_small_people
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = PER_formation_of_independent_economy }
		mutually_exclusive = { focus = PER_union_with_turkey }
		x = 1
		y = 1
		relative_position_id = PER_formation_of_independent_economy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_civil_war = no
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_peace_to_small_people"
			set_rule = { can_create_factions = yes }
			create_faction = PER_third_power
			every_other_country = {
				limit = { is_in_faction = no }
				add_opinion_modifier = { target = ROOT modifier = PER_peace_to_small_people }
				ROOT = { add_opinion_modifier = { target = PREV modifier = PER_peace_to_small_people } }
			}
			every_other_country = {
				limit = {
					num_of_factories < 15
					is_subject = no
					is_in_faction = no
					is_literally_china = no
					has_war = no
					NOT = {
						has_idea = neutrality_idea
						has_government = fascism
					}
					if = {
						limit = { HUN = { has_war_with = AUS } }
						NOT = {
							tag = HUN
							tag = AUS
						}
					}
					if = {
						limit = { HUN = { has_war_with = CZE } }
						NOT = {
							tag = HUN
							tag = CZE
						}
					}
				}
				country_event = { id = NWpersian.40 days = 1 }
				set_temp_variable = { troz_threat_temp_var = 2 }
				add_to_variable = { global.troz_threat_var = troz_threat_temp_var }
				custom_effect_tooltip = troz_threat_tt1
				set_var_for_troz_threat_dyn = yes
			}
		}
	}
	
	focus = {
		id = PER_occupy_afghanistan
		icon = GFX_z_goal_communist_brigades
		prerequisite = { focus = PER_union_with_turkey focus = PER_peace_to_small_people }
		x = 1
		y = 1
		relative_position_id = PER_union_with_turkey

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				has_war_with = AFG
				is_in_faction_with = AFG
				AFG = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_occupy_afghanistan"
			create_wargoal = {
				type = annex_everything
				target = AFG
			}
			add_ai_strategy = {
				type = antagonize
				id = "AFG"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "AFG"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_weaken_british_influence_in_iraq
		icon = GFX_focus_RAJ_clamp_down_on_corruption
		prerequisite = { focus = PER_occupy_afghanistan }
		x = 0
		y = 1
		relative_position_id = PER_occupy_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				has_war_with = IRQ
				is_in_faction_with = IRQ
				IRQ = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_weaken_british_influence_in_iraq"
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
			add_ai_strategy = {
				type = antagonize
				id = "IRQ"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "IRQ"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_anticommunism
		icon = GFX_z_goal_broken_red_star
		prerequisite = { focus = PER_weaken_british_influence_in_iraq }
		x = -1
		y = 1
		relative_position_id = PER_weaken_british_influence_in_iraq

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			country_exists = SOV
			NOT = {
				is_in_faction_with = SOV
				SOV = { is_subject_of = ROOT }
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_anticommunism"
			add_ideas = PER_anticommunism
			create_wargoal = {
				type = annex_everything
				target = SOV
			}
			add_ai_strategy = {
				type = antagonize
				id = "SOV"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "SOV"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_antiimperialism
		icon = GFX_z_goal_broken_torch
		prerequisite = { focus = PER_weaken_british_influence_in_iraq }
		x = 1
		y = 1
		relative_position_id = PER_weaken_british_influence_in_iraq

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			country_exists = ENG
			NOT = {
				is_in_faction_with = ENG
				ENG = { is_subject_of = ROOT }
				has_country_flag = PER_form_prosoviet_government_flag
				has_country_flag = PER_concessions_for_germanophiles_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_antiimperialism"
			add_ideas = PER_antiimperialism
			create_wargoal = {
				type = annex_everything
				target = ENG
			}
			add_ai_strategy = {
				type = antagonize
				id = "ENG"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "ENG"
				value = 200
			}
		}
	}
	
	
	############################
	#### DEMOCRATIC SECTION ####
	############################
	
	focus = {
		id = PER_right_free_nomination_delegate
		icon = GFX_z_goal_london_disagreement
		prerequisite = { focus = PER_last_blow_to_confessors }
		mutually_exclusive = { focus = PER_keep_personal_dictatorship }
		x = 4
		y = 1
		relative_position_id = PER_last_blow_to_confessors

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_MONARCHY
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_PER_AI_DEMOCRATIC
					has_country_flag = NW_PER_AI_TECHNOCRAT
				}
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_right_free_nomination_delegate"
			add_popularity = {
				ideology = monarchy
				popularity = -0.4
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.4
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			country_event = { id = NWpersian.41 }
		}
	}
	
	focus = {
		id = PER_implement_principles_kemalism
		icon = GFX_z_goal_kemalism
		prerequisite = { focus = PER_right_free_nomination_delegate }
		mutually_exclusive = { focus = PER_implement_principles_technocracy focus = PER_implement_principles_socialism }
		x = -1
		y = 1
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			hidden_trigger = {
				has_country_flag = PER_implement_principles_kemalism_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_implement_principles_kemalism"
			add_ideas = TUR_six_arrows_kemalism
			add_opinion_modifier = { target = TUR modifier = PER_implement_principles_kemalism_op }
			TUR = { add_opinion_modifier = { target = ROOT modifier = PER_implement_principles_kemalism_op } }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PER_muhammad_taqi_bahar
		}
	}
	
	focus = {
		id = PER_call_for_establishment_of_opposition
		icon = GFX_z_goal_pluralism_of_opinions
		prerequisite = { focus = PER_implement_principles_kemalism }
		x = 0
		y = 1
		relative_position_id = PER_implement_principles_kemalism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_call_for_establishment_of_opposition"
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
		}
	}
	
	focus = {
		id = PER_come_to_agreement_with_muslims
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = PER_call_for_establishment_of_opposition }
		x = 0
		y = 1
		relative_position_id = PER_call_for_establishment_of_opposition

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_come_to_agreement_with_muslims"
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			add_ideas = PER_pliable_clergy
		}
	}
	
	focus = {
		id = PER_build_strong_army
		icon = GFX_z_goal_conscription
		prerequisite = { focus = PER_come_to_agreement_with_muslims }
		x = 0
		y = 1
		relative_position_id = PER_come_to_agreement_with_muslims

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_build_strong_army"
			add_ideas = PER_build_strong_army_idea
		}
	}
	
	focus = {
		id = PER_give_autonomy_minorities
		icon = GFX_z_guarantee_autonomy_minorities
		prerequisite = { focus = PER_organization_councils_in_country focus = PER_call_for_establishment_of_opposition }
		x = 0
		y = 1
		relative_position_id = PER_organization_councils_in_country

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			OR = {
				owns_state = 963
				owns_state = 421
				owns_state = 419
			}
		}
		bypass = {
			NOT = {
				owns_state = 963
				owns_state = 421
				owns_state = 419
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_give_autonomy_minorities"
			every_state = {
				limit = {
					OR = {
						state = 963
						state = 421
					}
				}
				MHB = { transfer_state = PREV }
				add_core_of = MHB
			}
			puppet = MHB
			APG = { transfer_state = 419 }
			419 = { add_core_of = APG }
			puppet = APG
		}
	}
	
	focus = {
		id = PER_forced_secularization
		icon = GFX_z_goal_generic_political_support
		prerequisite = { focus = PER_give_autonomy_minorities focus = PER_development_agriculture_and_health }
		x = 0
		y = 1
		relative_position_id = PER_give_autonomy_minorities

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_forced_secularization"
			capital_scope = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			if = {
				limit = { has_idea = PER_significant_clergy }
				remove_ideas = PER_significant_clergy
			}
			add_ideas = PER_forced_secularization
		}
	}
	
	focus = {
		id = PER_implement_principles_technocracy
		icon = GFX_z_goal_technocracy
		prerequisite = { focus = PER_right_free_nomination_delegate }
		mutually_exclusive = { focus = PER_implement_principles_kemalism focus = PER_implement_principles_socialism }
		x = 1
		y = 1
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				add = 500
				has_country_flag = NW_PER_AI_TECHNOCRAT
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			hidden_trigger = {
				has_country_flag = PER_implement_principles_technocracy_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_implement_principles_technocracy"
			add_political_power = 50
			add_ideas = PER_implement_principles_technocracy_idea
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PER_gholam_ali_farivar
			custom_effect_tooltip = PER_government_engineers_tt
			
		}
	}
	
	focus = {
		id = PER_government_engineers
		icon = GFX_z_goal_government_engineers
		prerequisite = { focus = PER_implement_principles_technocracy }
		x = 0
		y = 1
		relative_position_id = PER_implement_principles_technocracy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 0
				has_country_flag = NW_PER_AI_TECHNOCRAT
				communism < 0.1
				NOT = { has_completed_focus = PER_attract_specialists_to_work }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		select_effect = {
			if = {
				limit = {
					communism > 0.099
					NOT = { has_completed_focus = PER_study_turkish_experience }
					has_completed_focus = PER_attract_specialists_to_work
				}
				country_event = { id = NWpersian.78 days = 35 }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_implement_principles_technocracy"
			add_ideas = technocratic_economic
			swap_ideas = {
				remove_idea = PER_implement_principles_technocracy_idea
				add_idea = PER_government_engineers
			}
		}
	}
	
	focus = {
		id = PER_development_agriculture_and_health
		icon = GFX_z_goal_modernization_healthcare_system
		prerequisite = { focus = PER_government_engineers }
		x = 0
		y = 1
		relative_position_id = PER_government_engineers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_development_agriculture_and_health"
			add_ideas = PER_development_agriculture_and_health
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_resources_is_national_wealth
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = PER_development_agriculture_and_health }
		x = 0
		y = 2
		relative_position_id = PER_development_agriculture_and_health

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_resources_is_national_wealth"
			add_ideas = PER_resources_is_national_wealth
		}
	}
	
	focus = {
		id = PER_investing_in_education
		icon = GFX_z_goal_brain
		prerequisite = { focus = PER_resources_is_national_wealth }
		x = 0
		y = 1
		relative_position_id = PER_resources_is_national_wealth

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_investing_in_education"
			add_ideas = PER_investing_in_education
			add_research_slot = 1
			if = {
				limit = { has_idea = PER_influential_clergy }
				remove_ideas = PER_influential_clergy
			}
			if = {
				limit = { has_idea = PER_significant_clergy }
				remove_ideas = PER_significant_clergy
			}
			if = {
				limit = { has_idea = PER_pliable_clergy }
				remove_ideas = PER_pliable_clergy
			}
			if = {
				limit = { has_idea = PER_puppet_clergy }
				remove_ideas = PER_puppet_clergy
			}
		}
	}
	
	focus = {
		id = PER_study_turkish_experience
		icon = GFX_z_goal_expansion_turkey
		prerequisite = { focus = PER_right_free_nomination_delegate }
		mutually_exclusive = { focus = PER_unique_experience_of_iranian_technocracy }
		x = 8
		y = 3
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_study_turkish_experience"
			add_ideas = PER_study_turkish_experience_idea
			add_timed_idea = { idea = PER_study_turkish_experience_idea2 days = 180 }
			add_opinion_modifier = { target = TUR modifier = PER_study_turkish_experience_op }
			TUR = { add_opinion_modifier = { target = ROOT modifier = PER_study_turkish_experience_op } }
			every_other_country = {
				limit = { has_government = democratic }
				add_opinion_modifier = { target = ROOT modifier = PER_study_turkish_experience_op2 }
				ROOT = { add_opinion_modifier = { target = PREV modifier = PER_study_turkish_experience_op2 } }
			}
		}
	}
	
	focus = {
		id = PER_economic_integration_with_afghanistan
		icon = GFX_z_goal_economic_integration_with_afghanistan
		prerequisite = { focus = PER_study_turkish_experience }
		x = -6
		y = 1
		relative_position_id = PER_study_turkish_experience

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = AFG
			AFG = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				AFG = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_integration_with_afghanistan"
			custom_effect_tooltip = PER_economic_integration_tt
			AFG = { country_event = { id = NWpersian.20 days = 1 } }
		}
	}
	
	focus = {
		id = PER_economic_integration_with_iraq
		icon = GFX_z_goal_economic_integration_with_iraq
		prerequisite = { focus = PER_study_turkish_experience }
		x = -4
		y = 1
		relative_position_id = PER_study_turkish_experience

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = IRQ
			IRQ = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				IRQ = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_integration_with_iraq"
			custom_effect_tooltip = PER_economic_integration_tt
			IRQ = { country_event = { id = NWpersian.20 days = 1 } }
		}
	}
	
	focus = {
		id = PER_economic_integration_with_turkey
		icon = GFX_z_goal_economic_integration_with_turkey
		prerequisite = { focus = PER_study_turkish_experience }
		x = -2
		y = 1
		relative_position_id = PER_study_turkish_experience

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = TUR
			TUR = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				TUR = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_integration_with_turkey"
			custom_effect_tooltip = PER_economic_integration_tt
			TUR = { country_event = { id = NWpersian.20 days = 1 } }
		}
	}
	
	focus = {
		id = PER_economic_integration_with_egypt
		icon = GFX_z_goal_economic_integration_with_egypt
		prerequisite = { focus = PER_study_turkish_experience }
		x = 0
		y = 1
		relative_position_id = PER_study_turkish_experience

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = EGY
			EGY = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = EGY }
				EGY = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_integration_with_egypt"
			custom_effect_tooltip = PER_economic_integration_tt
			EGY = { country_event = { id = NWpersian.20 days = 1 } }
		}
	}
	
	focus = {
		id = PER_establishment_of_middle_east_economic_union
		icon = GFX_z_goal_establishment_of_middle_east_economic_union
		prerequisite = { focus = PER_economic_integration_with_afghanistan }
		prerequisite = { focus = PER_economic_integration_with_iraq }
		prerequisite = { focus = PER_economic_integration_with_turkey }
		prerequisite = { focus = PER_economic_integration_with_egypt }
		x = 1
		y = 1
		relative_position_id = PER_economic_integration_with_iraq

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			OR = {
				AFG = { has_country_flag = PER_economic_integration_flag }
				IRQ = { has_country_flag = PER_economic_integration_flag }
				TUR = { has_country_flag = PER_economic_integration_flag }
				EGY = { has_country_flag = PER_economic_integration_flag }
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_establishment_of_middle_east_economic_union"
			add_to_tech_sharing_group = PER_middle_east_economic_union_group
			if = {
				limit = { focus_progress = { focus = PER_establishment_of_middle_east_economic_union progress < 0.01 } }
				custom_effect_tooltip = PER_establishment_of_middle_east_economic_union_tt
			}
			else = {
				subtract_from_variable = { economic_integration_var = 1 }
				clamp_variable = {
					var = economic_integration_var
					min = 1
					max = 999
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = economic_integration_var
					add_building_construction = {
						type = industrial_complex
						level = economic_integration_var
						instant_build = yes
					}
				}
				every_other_country = {
					limit = { has_country_flag = PER_economic_integration_flag }
					add_to_tech_sharing_group = PER_middle_east_economic_union_group
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = economic_integration_var
						add_building_construction = {
							type = industrial_complex
							level = economic_integration_var
							instant_build = yes
						}
					}
				}
				clear_variable = economic_integration_var
			}
		}
	}
	
	focus = {
		id = PER_full_confederation
		icon = GFX_z_goal_full_confederation
		prerequisite = { focus = PER_establishment_of_middle_east_economic_union }
		x = 0
		y = 1
		relative_position_id = PER_establishment_of_middle_east_economic_union

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			OR = {
				AFG = { has_country_flag = PER_economic_integration_flag }
				IRQ = { has_country_flag = PER_economic_integration_flag }
				TUR = { has_country_flag = PER_economic_integration_flag }
				EGY = { has_country_flag = PER_economic_integration_flag }
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_full_confederation"
			if = {
				limit = {
					NOT = {
						AFG = { has_country_flag = PER_economic_integration_flag }
						IRQ = { has_country_flag = PER_economic_integration_flag }
						TUR = { has_country_flag = PER_economic_integration_flag }
						EGY = { has_country_flag = PER_economic_integration_flag }
					}
				}
				custom_effect_tooltip = PER_full_confederation_tt
			}
			every_other_country = {
				limit = { has_country_flag = PER_economic_integration_flag }
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_dominion
					}
				}
			}
			hidden_effect = { news_event = { hours = 6 id = trworldnews.102 } }
		}
	}
	
	focus = {
		id = PER_implement_principles_socialism
		icon = GFX_z_goal_generic_labor_democracy
		prerequisite = { focus = PER_right_free_nomination_delegate }
		mutually_exclusive = { focus = PER_implement_principles_kemalism focus = PER_implement_principles_technocracy }
		x = 3
		y = 1
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			hidden_trigger = {
				has_country_flag = PER_implement_principles_socialism_flag
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_implement_principles_socialism"
			add_ideas = PER_implement_principles_socialism_idea
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = PER_mostafa_fateh
		}
	}
	
	focus = {
		id = PER_nationalization_of_largescale_industry
		icon = GFX_z_goal_nationalization_heavy_industry
		prerequisite = { focus = PER_implement_principles_socialism }
		x = 0
		y = 1
		relative_position_id = PER_implement_principles_socialism

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_nationalization_of_largescale_industry"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_nationalization_of_military_industry
		icon = GFX_z_goal_nationalization_arms_industry
		prerequisite = { focus = PER_nationalization_of_largescale_industry }
		x = 0
		y = 1
		relative_position_id = PER_nationalization_of_largescale_industry

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_nationalization_of_military_industry"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	
	focus = {
		id = PER_carry_out_market_reforms
		icon = GFX_z_goal_ekonomik_ref
		prerequisite = { focus = PER_right_free_nomination_delegate }
		x = 5
		y = 1
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_carry_out_market_reforms"
			add_ideas = PER_carry_out_market_reforms_idea
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	
	#############################
	#### TECHNOCRACY SECTION ####
	#############################
	
	focus = {
		id = PER_unique_experience_of_iranian_technocracy
		icon = GFX_goal_generic_production2
		prerequisite = { focus = PER_right_free_nomination_delegate }
		mutually_exclusive = { focus = PER_study_turkish_experience }
		x = 10
		y = 3
		relative_position_id = PER_right_free_nomination_delegate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = technocracy
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_unique_experience_of_iranian_technocracy"
			add_timed_idea = { idea = PER_promotion_technocracy days = 365 }
			add_ideas = PER_unique_experience_of_iranian_technocracy
		}
	}
	
	focus = {
		id = PER_coerce_afghanistan
		icon = GFX_z_goal_expansion_afgan
		prerequisite = { focus = PER_unique_experience_of_iranian_technocracy }
		x = 0
		y = 1
		relative_position_id = PER_unique_experience_of_iranian_technocracy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				AFG = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				AFG = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				AFG = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				AFG = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				AFG = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				AFG = { has_war = yes }
			}
			modifier = {
				add = 15
				AFG = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = AFG
			AFG = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				AFG = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_afghanistan"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_afghanistan
			}
			AFG = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_iraq
		icon = GFX_z_goal_expansion_iraq
		prerequisite = { focus = PER_unique_experience_of_iranian_technocracy }
		x = 2
		y = 1
		relative_position_id = PER_unique_experience_of_iranian_technocracy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				IRQ = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				IRQ = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				IRQ = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				IRQ = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				IRQ = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				IRQ = { has_war = yes }
			}
			modifier = {
				add = 15
				IRQ = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = IRQ
			IRQ = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = IRQ }
				IRQ = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_iraq"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_iraq
			}
			IRQ = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_turkey
		icon = GFX_z_goal_expansion_turkey
		prerequisite = { focus = PER_unique_experience_of_iranian_technocracy }
		x = 4
		y = 1
		relative_position_id = PER_unique_experience_of_iranian_technocracy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				TUR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				TUR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				TUR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				TUR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				TUR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				TUR = { has_war = yes }
			}
			modifier = {
				add = 15
				TUR = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = TUR
			TUR = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = TUR }
				TUR = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_turkey"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_turkey
			}
			TUR = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_arab_peninsula
		icon = GFX_z_goal_expansion_arab_peninsula
		prerequisite = { focus = PER_unique_experience_of_iranian_technocracy }
		x = 6
		y = 1
		relative_position_id = PER_unique_experience_of_iranian_technocracy

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				SAU = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				SAU = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				SAU = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				SAU = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				SAU = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				SAU = { has_war = yes }
			}
			modifier = {
				add = 15
				SAU = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = SAU
			SAU = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = SAU }
				SAU = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_arab_peninsula"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_arab_peninsula
			}
			SAU = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_yeman
		icon = GFX_z_goal_expansion_yeman
		prerequisite = { focus = PER_coerce_afghanistan }
		prerequisite = { focus = PER_coerce_iraq }
		x = 1
		y = 1
		relative_position_id = PER_coerce_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				YEM = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				YEM = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				YEM = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				YEM = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				YEM = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				YEM = { has_war = yes }
			}
			modifier = {
				add = 15
				YEM = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = YEM
			YEM = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = YEM }
				YEM = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_yeman"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_yeman
			}
			YEM = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_syria
		icon = GFX_z_goal_expansion_syria
		prerequisite = { focus = PER_coerce_iraq }
		prerequisite = { focus = PER_coerce_turkey }
		x = 1
		y = 1
		relative_position_id = PER_coerce_iraq

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				SYR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				SYR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				SYR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				SYR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				SYR = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				SYR = { has_war = yes }
			}
			modifier = {
				add = 15
				SYR = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = SYR
			SYR = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = SYR }
				SYR = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_syria"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_syria
			}
			SYR = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_coerce_egypt
		icon = GFX_z_goal_expansion_egypt
		prerequisite = { focus = PER_coerce_turkey }
		prerequisite = { focus = PER_coerce_arab_peninsula }
		x = 1
		y = 1
		relative_position_id = PER_coerce_turkey

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				add = 2
				EGY = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.9
					}
				}
			}
			modifier = {
				add = 2
				EGY = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.8
					}
				}
			}
			modifier = {
				add = 2
				EGY = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
			}
			modifier = {
				add = 2
				EGY = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.6
					}
				}
			}
			modifier = {
				add = 5
				EGY = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.5
					}
				}
			}
			modifier = {
				add = 5
				EGY = { has_war = yes }
			}
			modifier = {
				add = 15
				EGY = { has_government = ROOT }
			}
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			country_exists = EGY
			EGY = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_subject = no
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = EGY }
				EGY = {
					OR = {
						has_war_with = ROOT
						is_puppet = yes
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coerce_egypt"
			add_named_threat = { 
				threat = 2
				name = PER_coerce_egypt
			}
			EGY = { country_event = { id = NWpersian.79 days = 1 } }
			custom_effect_tooltip = needs_dominance_tt
		}
	}
	
	focus = {
		id = PER_middle_east_technate
		icon = GFX_z_goal_government_engineers
		prerequisite = { focus = PER_coerce_yeman }
		prerequisite = { focus = PER_coerce_syria }
		prerequisite = { focus = PER_coerce_egypt }
		x = 0
		y = 1
		relative_position_id = PER_coerce_syria

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
			OR = {
				AFG = { has_country_flag = PER_middle_east_technate_flag }
				IRQ = { has_country_flag = PER_middle_east_technate_flag }
				TUR = { has_country_flag = PER_middle_east_technate_flag }
				SAU = { has_country_flag = PER_middle_east_technate_flag }
				YEM = { has_country_flag = PER_middle_east_technate_flag }
				SYR = { has_country_flag = PER_middle_east_technate_flag }
				EGY = { has_country_flag = PER_middle_east_technate_flag }
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_middle_east_technate"
			add_to_tech_sharing_group = PER_middle_east_technate_group
			every_other_country = {
				limit = { is_subject_of = ROOT }
				add_to_tech_sharing_group = PER_middle_east_technate_group
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					NOT = {
						tag = TUR
						tag = AFG
						tag = IRQ
						tag = SYR
					}
				}
				add_timed_idea = { idea = PER_middle_east_technate_idea days = 200 }
			}
			if = {
				limit = { TUR = { is_subject_of = ROOT } }
				TUR = { add_timed_idea = { idea = PER_middle_east_technate_idea_tur days = 200 } }
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						tag = AFG
						tag = IRQ
						tag = SYR
					}
				}
				add_timed_idea = { idea = PER_middle_east_technate_idea_afg_irq days = 200 }
			}
			set_rule = { can_create_factions = yes }
			create_faction = PER_middle_east_technate_faction
			set_cosmetic_tag = PER_technat
		}
	}
	
	focus = {
		id = PER_show_world_power_of_iranian_thought
		icon = GFX_z_goal_generic_fire_of_war
		prerequisite = { focus = PER_middle_east_technate }
		x = 0
		y = 1
		relative_position_id = PER_middle_east_technate

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = { has_country_flag = PER_form_prosoviet_government_flag has_country_flag = PER_concessions_for_germanophiles_flag }
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_show_world_power_of_iranian_thought"
			add_ideas = PER_show_world_power_of_iranian_thought_idea
			add_ideas = PER_science_based_iranian_nationalism
			every_other_country = {
				limit = {
					NOT = {
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
				add_opinion_modifier = { target = ROOT modifier = PER_science_based_iranian_nationalism }
				ROOT = { add_opinion_modifier = { target = PREV modifier = PER_science_based_iranian_nationalism } }
			}
		}
	}
	
	
	######################
	#### NAVY SECTION ####
	######################
	
	focus = {
		id = PER_fleet_development
		icon = GFX_z_goal_iranian_fleet_development
		x = 19
		y = 0
		relative_position_id = PER_dictatorship_of_reza_shah_pahlavi

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}
		bypass = {
		
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_fleet_development"
			navy_experience = 10
		}
	}
	
	focus = {
		id = PER_mahwani_school
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = PER_fleet_development }
		x = -2
		y = 1
		relative_position_id = PER_fleet_development

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			any_controlled_state = {
				is_coastal = yes
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_mahwani_school"
			add_ideas = PER_mahwani_school
			random_owned_controlled_state = {
				prioritize = { 413 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				set_state_flag = PER_mahwani_school
				if = {
					limit = { state = 413 }
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 5005
					}
					set_state_flag = PER_mahwani_school
				}
			}
			if = {
				limit = { NOT = { has_tech = marines } }
				set_technology = { marines = 1 }
				
				else = {
					add_tech_bonus = {
						name = PER_mahwani_school
						bonus = 1.0
						uses = 1
						technology = marines2
						technology = marines3
					}
				}
			}
			if = {
				limit = { NOT = { has_tech = transport } }
				set_technology = { transport = 1 }
				
				else = {
					add_tech_bonus = {
						name = PER_mahwani_school
						bonus = 1.0
						uses = 1
						technology = landing_craft
						technology = tank_landing_craft
					}
				}
			}	
		}
	}
	
	focus = {
		id = PER_ports_of_khuzestan
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = PER_fleet_development }
		x = 0
		y = 1
		relative_position_id = PER_fleet_development

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			any_controlled_state = {
				is_coastal = yes
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_ports_of_khuzestan"
			navy_experience = 10
			random_owned_controlled_state = {
				prioritize = { 413 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_protection_of_strait_of_hormuz
		icon = GFX_z_goal_generic_coastal_navy
		prerequisite = { focus = PER_ports_of_khuzestan }
		x = 0
		y = 1
		relative_position_id = PER_ports_of_khuzestan

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_protection_of_strait_of_hormuz"
			navy_experience = 25
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = dd_tech
			}
		}
	}
	
	focus = {
		id = PER_increase_fleet_with_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = PER_protection_of_strait_of_hormuz }
		x = -1
		y = 1
		relative_position_id = PER_protection_of_strait_of_hormuz

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_increase_fleet_with_destroyers"
			navy_experience = 25
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = dd_tech
			}
		}
	}
	
	focus = {
		id = PER_protection_from_landings_in_southern_iran
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = PER_protection_of_strait_of_hormuz }
		x = 1
		y = 1
		relative_position_id = PER_protection_of_strait_of_hormuz

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 6
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_protection_from_landings_in_southern_iran"
			navy_experience = 25
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = ss_tech
			}
		}
	}
	
	######################
	#### AVIA SECTION ####
	######################
	
	focus = {
		id = PER_create_air_fleet
		icon = GFX_z_goal_create_iranian_air_force
		x = 4
		y = 0
		relative_position_id = PER_fleet_development

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 7
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_create_air_fleet"
			show_ideas_tooltip = PER_hedayat_gilanshah
			air_experience = 10
		}
	}
	
	focus = {
		id = PER_establish_shahbaz
		icon = GFX_focus_YUG_rogozarski
		prerequisite = { focus = PER_create_air_fleet }
		x = -2
		y = 1
		relative_position_id = PER_create_air_fleet

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 17
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_establish_shahbaz"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = PER_shahbaz_light
			show_ideas_tooltip = PER_shahbaz_medium
			show_ideas_tooltip = PER_shahbaz_heavy
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_create_iran_air
		icon = GFX_z_goal_create_iran_air
		prerequisite = { focus = PER_establish_shahbaz }
		prerequisite = { focus = PER_teheran_airport }
		x = 0
		y = 1
		relative_position_id = PER_establish_shahbaz

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 7
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_create_iran_air"
			266 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			416 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_teheran_airport
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = PER_create_air_fleet }
		x = 0
		y = 1
		relative_position_id = PER_create_air_fleet

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 7
		}
		available = {
			266 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_teheran_airport"
			air_experience = 10
			266 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_development_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = PER_establish_shahbaz }
		prerequisite = { focus = PER_teheran_airport }
		x = 0
		y = 1
		relative_position_id = PER_teheran_airport

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 7
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_development_fighters"
			air_experience = 25
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 2
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
				technology = heavy_fighter1
				technology = heavy_fighter2
				technology = heavy_fighter3
			}
		}
	}
	
	focus = {
		id = PER_development_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = PER_development_fighters }
		x = 0
		y = 1
		relative_position_id = PER_development_fighters

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 7
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_development_bombers"
			air_experience = 25
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 2
				technology = strategic_bomber1
				technology = strategic_bomber2
				technology = strategic_bomber3
				category = tactical_bomber
			}
		}
	}
	
	
	######################
	#### ARMY SECTION ####
	######################
	
	focus = {
		id = PER_primacy_of_army
		icon = GFX_z_goal_war_department
		x = 8
		y = 0
		relative_position_id = PER_create_air_fleet

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 25
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_primacy_of_army"
			add_doctrine_cost_reduction = {
				name = PER_primacy_of_army
				cost_reduction = 0.35
				uses = 1
				category = land_doctrine
			}
			set_variable = { PER_army_reform_var = 0 }
			set_variable = { PER_army_tension_var = 0 }
			custom_effect_tooltip = PER_primacy_of_army_tt
		}
	}
	
	focus = {
		id = PER_update_tactics
		icon = GFX_z_goal_generic_offensive_strategy
		prerequisite = { focus = PER_primacy_of_army }
		x = 0
		y = 1
		relative_position_id = PER_primacy_of_army

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_update_tactics"
			add_doctrine_cost_reduction = {
				name = PER_update_tactics
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = PER_rearms_army
		icon = GFX_z_goal_generic_organization_of_the_troops
		prerequisite = { focus = PER_update_tactics }
		x = -2
		y = 1
		relative_position_id = PER_update_tactics

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_rearms_army"
			add_tech_bonus = {
				name = PER_rearms_army
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	focus = {
		id = PER_war_university
		icon = GFX_z_goal_PER_war_university
		prerequisite = { focus = PER_update_tactics }
		x = 2
		y = 1
		relative_position_id = PER_update_tactics

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			FRA = {
			    OR = {
					has_capitulated = yes
					has_war = yes
				}
            }				
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_war_university"
			add_ideas = PER_war_university_idea
		}
	}
	
	focus = {
		id = PER_production_new_equipment
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = PER_update_tactics }
		x = 0
		y = 1
		relative_position_id = PER_update_tactics

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_production_new_equipment"
			add_tech_bonus = {
				name = PER_production_new_equipment
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	focus = {
		id = PER_mountain_war
		icon = GFX_z_goal_mountain_rifle_artillery
		prerequisite = { focus = PER_production_new_equipment }
		x = -2
		y = 1
		relative_position_id = PER_production_new_equipment

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_mountain_war"
			add_tech_bonus = {
				name = PER_mountain_war
				bonus = 1.0
				uses = 1
				category = mountaineers_tech
			}
			custom_effect_tooltip = mountain_warfare_effect
			hidden_effect = { set_technology = { mountain_warfare = 1 } }
		}
	}
	
	focus = {
		id = PER_support_of_army_artillery
		icon = GFX_z_goal_rearmament_of_greek_artillery
		prerequisite = { focus = PER_production_new_equipment }
		x = 0
		y = 1
		relative_position_id = PER_production_new_equipment

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_support_of_army_artillery"
			add_tech_bonus = {
				name = PER_support_of_army_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}
	
	focus = {
		id = PER_production_transport
		icon = GFX_z_goal_mobile_war
		prerequisite = { focus = PER_support_of_army_artillery }
		x = -1
		y = 1
		relative_position_id = PER_support_of_army_artillery

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_production_transport"
			add_tech_bonus = {
				name = PER_production_transport
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}
	
	focus = {
		id = PER_put_into_operation_iranian_tanks
		icon = GFX_z_goal_military_mobilisation
		prerequisite = { focus = PER_support_of_army_artillery }
		x = 1
		y = 1
		relative_position_id = PER_support_of_army_artillery

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_put_into_operation_iranian_tanks"
			add_tech_bonus = {
				name = PER_put_into_operation_iranian_tanks
				bonus = 1.0
				uses = 1
				category = armor
				technology = gwtank
			}
		}
	}
	
	
	####################################
	#### NEUTRALITY SECTION PRO GER ####
	####################################
	
	focus = {
		id = PER_coup_progerman_officers
		icon = GFX_z_goal_coup_progerman_officers
		prerequisite = { focus = PER_primacy_of_army }
		mutually_exclusive = { focus = PER_islamic_revolution focus = PER_islamist_monarchist_reaction focus = PER_last_blow_to_confessors focus = PER_revolution_probritish_officers }
		x = -6
		y = 4
		relative_position_id = PER_primacy_of_army

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			has_completed_focus = PER_attract_german_investors
			custom_trigger_tooltip = {
				tooltip = PER_coup_progerman_officers_trigger_tt		
				always = no
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_coup_progerman_officers"
			hidden_effect = {
				save_party_popularity = yes
				ENG = {
					remove_resource_rights = 411
					remove_resource_rights = 412
					remove_resource_rights = 413
				}
			}
			GFA = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_colony
				}
			}
			give_resource_rights = { receiver = GFA state = 411 }
			give_resource_rights = { receiver = GFA state = 412 }
			give_resource_rights = { receiver = GFA state = 413 }
			hidden_effect = { load_party_popularity = yes }
			add_popularity = {
				ideology = neutrality
				popularity = 0.2
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = PER_strengthen_relations_with_germany
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = PER_coup_progerman_officers }
		x = -2
		y = 1
		relative_position_id = PER_coup_progerman_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			NOT = { country_exists = GFA }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_relations_with_germany"
			add_opinion_modifier = { target = GFA modifier = PER_strengthen_relations_with_germany_op }
			GFA = { add_opinion_modifier = { target = ROOT modifier = PER_strengthen_relations_with_germany_op } }
			every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_bring_germans_into_country
		icon = GFX_z_goal_syndicates
		prerequisite = { focus = PER_strengthen_relations_with_germany }
		x = -1
		y = 1
		relative_position_id = PER_strengthen_relations_with_germany

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_bring_germans_into_country"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_strengthen_german_influence
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = PER_bring_germans_into_country }
		x = 1
		y = 1
		relative_position_id = PER_bring_germans_into_country

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_german_influence"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_strengthen_nationalist_ideas
		icon = GFX_z_goal_power_fascist_council
		prerequisite = { focus = PER_coup_progerman_officers }
		x = 0
		y = 1
		relative_position_id = PER_coup_progerman_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_nationalist_ideas"
			add_ideas = PER_strengthen_nationalist_ideas_idea
		}
	}
	
	focus = {
		id = PER_send_troops_to_afghanistan
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = PER_strengthen_nationalist_ideas }
		x = -1
		y = 1
		relative_position_id = PER_strengthen_nationalist_ideas

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				AFG = {
					OR = {
						is_in_faction_with = GFA
						is_subject_of = GFA
						is_subject_of = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_send_troops_to_afghanistan"
			AFG = { country_event = { id = NWpersian.24 days = 1 } }
		}
	}
	
	focus = {
		id = PER_claims_to_kurdistan
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = PER_strengthen_nationalist_ideas }
		x = 1
		y = 1
		relative_position_id = PER_strengthen_nationalist_ideas

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_claims_to_kurdistan"
			every_state = {
				limit = { is_core_of = KRD }
				add_claim_by = ROOT
			}
		}
	}
	
	focus = {
		id = PER_claims_on_soviet_territory
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = PER_send_troops_to_afghanistan }
		prerequisite = { focus = PER_claims_to_kurdistan }
		x = 1
		y = 1
		relative_position_id = PER_send_troops_to_afghanistan

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_claims_on_soviet_territory"
			every_state = {
				limit = {
					OR = {
						state = 584
						state = 895
						state = 894
						state = 896
						state = 229
						state = 742
					}
				}
				add_claim_by = ROOT
			}
		}
	}
	
	
	####################################
	#### NEUTRALITY SECTION PRO ENG ####
	####################################
	
	focus = {
		id = PER_revolution_probritish_officers
		icon = GFX_z_goal_revolution_probritish_officers
		prerequisite = { focus = PER_primacy_of_army }
		mutually_exclusive = { focus = PER_islamic_revolution focus = PER_islamist_monarchist_reaction focus = PER_last_blow_to_confessors focus = PER_coup_progerman_officers }
		x = -4
		y = 4
		relative_position_id = PER_primacy_of_army

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = PER_revolution_probritish_officers_trigger_tt		
				always = no
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_revolution_probritish_officers"
			hidden_effect = { save_party_popularity = yes }
			ENG = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_colony
				}
			}
			give_resource_rights = { receiver = ENG state = 411 }
			give_resource_rights = { receiver = ENG state = 412 }
			give_resource_rights = { receiver = ENG state = 413 }
			hidden_effect = { load_party_popularity = yes }
			add_popularity = {
				ideology = neutrality
				popularity = 0.2
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = PER_strengthen_relations_with_britain
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = PER_revolution_probritish_officers }
		x = 0
		y = 1
		relative_position_id = PER_revolution_probritish_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			country_exists = ENG
		}
		bypass = {
			NOT = { country_exists = ENG }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_relations_with_britain"
			add_ideas = PER_strengthen_relations_with_britain_idea
			every_owned_state = { add_extra_state_shared_building_slots = 1 }
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_economic_integration_with_britain
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = PER_strengthen_relations_with_britain }
		x = 1
		y = 1
		relative_position_id = PER_strengthen_relations_with_britain

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			country_exists = ENG
		}
		bypass = {
			NOT = { country_exists = ENG }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_integration_with_britain"
			add_to_tech_sharing_group = PER_ENG_group
			ENG = { add_to_tech_sharing_group = PER_ENG_group }
			capital_scope = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = PER_bargain_for_part_of_oil
		icon = GFX_z_goal_part_of_oil
		prerequisite = { focus = PER_economic_integration_with_britain }
		mutually_exclusive = { focus = PER_achieve_large_payments_for_sale_of_oil }
		x = -1
		y = 1
		relative_position_id = PER_economic_integration_with_britain

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_bargain_for_part_of_oil"
			ENG = { remove_resource_rights = 411 }
			add_autonomy_score = {
				value = 200
				localization = PER_bargain_for_part_of_oil
			}
		}
	}
	
	focus = {
		id = PER_achieve_large_payments_for_sale_of_oil
		icon = GFX_z_goal_achieve_payments
		prerequisite = { focus = PER_economic_integration_with_britain }
		mutually_exclusive = { focus = PER_bargain_for_part_of_oil }
		x = 1
		y = 1
		relative_position_id = PER_economic_integration_with_britain

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_achieve_large_payments_for_sale_of_oil"
			custom_effect_tooltip = PER_achieve_large_payments_for_sale_of_oil_tt
			country_event = { id = NWpersian.26 days = 1 }
		}
	}
	
	focus = {
		id = PER_strengthen_economy_through_cooperation_with_west
		icon = GFX_z_goal_generic_keynesian_economics
		prerequisite = { focus = PER_bargain_for_part_of_oil focus = PER_achieve_large_payments_for_sale_of_oil }
		x = 1
		y = 1
		relative_position_id = PER_bargain_for_part_of_oil

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_economy_through_cooperation_with_west"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_improve_situation_for_investors
		icon = GFX_z_goal_bank2
		prerequisite = { focus = PER_strengthen_economy_through_cooperation_with_west }
		x = 0
		y = 1
		relative_position_id = PER_strengthen_economy_through_cooperation_with_west

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_improve_situation_for_investors"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_consolidate_british_influence_in_afghanistan
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = { focus = PER_improve_situation_for_investors }
		x = 0
		y = 1
		relative_position_id = PER_improve_situation_for_investors

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = AFG }
				has_war_with = AFG
				is_in_faction_with = AFG
				AFG = { is_subject_of = ROOT }
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_consolidate_british_influence_in_afghanistan"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = AFG
			}
			add_ai_strategy = {
				type = antagonize
				id = "AFG"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "AFG"
				value = 200
			}
		}
	}
	
	focus = {
		id = PER_introduce_relief_for_conservatives
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		x = 2
		y = 1
		relative_position_id = PER_revolution_probritish_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_introduce_relief_for_conservatives"
			add_political_power = 50
			add_ideas = PER_introduce_relief_for_conservatives_idea
		}
	}
	
	focus = {
		id = PER_maintain_dominant_position_of_army
		icon = GFX_z_goal_focus_generic_oppression
		prerequisite = { focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		x = 4
		y = 1
		relative_position_id = PER_revolution_probritish_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_maintain_dominant_position_of_army"
			add_doctrine_cost_reduction = {
				name = PER_maintain_dominant_position_of_army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_ideas = PER_maintain_dominant_position_of_army_idea
		}
	}
	
	focus = {
		id = PER_strengthen_iranian_army
		icon = GFX_z_goal_generic_military_lobby
		prerequisite = { focus = PER_introduce_relief_for_conservatives }
		prerequisite = { focus = PER_maintain_dominant_position_of_army }
		x = 1
		y = 1
		relative_position_id = PER_introduce_relief_for_conservatives

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_strengthen_iranian_army"
			swap_ideas = {
				remove_idea = PER_maintain_dominant_position_of_army_idea
				add_idea = PER_maintain_dominant_position_of_army_idea_2
			}
		}
	}
	
	focus = {
		id = PER_restoration_of_qajar
		icon = GFX_z_goal_monarchism_14
		prerequisite = { focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		mutually_exclusive = { focus = PER_proclaim_republic }
		x = 6
		y = 1
		relative_position_id = PER_revolution_probritish_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_restoration_of_qajar"
			if = {
				limit = { has_completed_focus = PER_revolution_probritish_officers }
				country_event = { id = NWpersian.42 days = 1 }
			}
			else = {
				set_politics = {
					ruling_party = monarchy
					elections_allowed = no
				}
				set_party_name = { ideology = monarchy long_name = PER_qajar_dynasty name = PER_qajar_dynasty }
				PER_mohammad_hassan_mirza = {
					add_country_leader_role = {
						country_leader = {
							expire = "1965.1.1"
							ideology = dual_monarchy
							traits = {
							}	
						}
					    promote_leader = yes
					}
				}
				add_stability = 0.05
				add_political_power = 50
				add_autonomy_score = {
					value = 50
					localization = PER_restoration_of_qajar
				}
			}
			hidden_effect = { set_cosmetic_tag = PER_IRAN_QAJAR }
		}
	}
	
	focus = {
		id = PER_proclaim_republic
		icon = GFX_z_goal_liberty
		prerequisite = { focus = PER_coup_progerman_officers focus = PER_revolution_probritish_officers }
		mutually_exclusive = { focus = PER_restoration_of_qajar }
		x = 8
		y = 1
		relative_position_id = PER_revolution_probritish_officers

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_proclaim_republic"
			add_political_power = 100
			add_autonomy_score = {
				value = 400
				localization = PER_proclaim_republic
			}
		}
	}
	
	focus = {
		id = PER_weaken_british_grip
		icon = GFX_z_goal_GB_ultimatum
		prerequisite = { focus = PER_restoration_of_qajar focus = PER_proclaim_republic }
		x = 1
		y = 1
		relative_position_id = PER_restoration_of_qajar

		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_weaken_british_grip"
			add_political_power = 100
			add_ideas = PER_weaken_british_grip_idea
		}
	}
	
	
	##########################
	#### INDUSTRY SECTION ####
	##########################
	
	focus = {
		id = PER_continue_construction_of_transiranian_road
		icon = GFX_goal_generic_construct_infrastructure
		x = 8
		y = 0
		relative_position_id = PER_primacy_of_army

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			417 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_continue_construction_of_transiranian_road"
			413 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			417 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_anglo_iranian_oil_company
		icon = GFX_z_goal_oil_refining
		prerequisite = { focus = PER_continue_construction_of_transiranian_road }
		x = -2
		y = 1
		relative_position_id = PER_continue_construction_of_transiranian_road

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			country_exists = ENG
			NOT = { has_war_with = ENG }
		}
		bypass = {
			OR = {
				NOT = { country_exists = ENG }
				has_war_with = ENG
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_anglo_iranian_oil_company"
			add_tech_bonus = {
				name = PER_anglo_iranian_oil_company
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
			412 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_invest_in_southern_regions
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = PER_anglo_iranian_oil_company }
		x = 0
		y = 1
		relative_position_id = PER_anglo_iranian_oil_company

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			411 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			412 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			413 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_invest_in_southern_regions"
			411 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			412 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			413 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_develop_construction_of_transiranian_road
		icon = GFX_goal_generic_construction
		prerequisite = { focus = PER_continue_construction_of_transiranian_road }
		x = 0
		y = 1
		relative_position_id = PER_continue_construction_of_transiranian_road

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			418 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_develop_construction_of_transiranian_road"
			418 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_complete_construction_of_transiranian_road
		icon = GFX_z_goal_jd_paravoz
		prerequisite = { focus = PER_develop_construction_of_transiranian_road }
		x = 0
		y = 1
		relative_position_id = PER_develop_construction_of_transiranian_road

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			266 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			416 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_complete_construction_of_transiranian_road"
			266 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			416 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_new_faculties_of_tehran_university
		icon = GFX_focus_research
		prerequisite = { focus = PER_complete_construction_of_transiranian_road }
		x = -2
		y = 1
		relative_position_id = PER_complete_construction_of_transiranian_road

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_new_faculties_of_tehran_university"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PER_cultivate_iranian_specialists
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = PER_new_faculties_of_tehran_university }
		x = 0
		y = 2
		relative_position_id = PER_new_faculties_of_tehran_university

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 15
		}
		available = {
			num_of_factories > 24
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_cultivate_iranian_specialists"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PER_attract_specialists_to_work
		icon = GFX_z_goal_soviet_prom_city1
		prerequisite = { focus = PER_cultivate_iranian_specialists }
		x = 0
		y = 1
		relative_position_id = PER_cultivate_iranian_specialists

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_specialists_to_work"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_find_use_for_uranium_ores
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = PER_attract_specialists_to_work }
		mutually_exclusive = { focus = PER_develop_missile_technology }
		x = 0
		y = 1
		relative_position_id = PER_attract_specialists_to_work

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_find_use_for_uranium_ores"
			add_tech_bonus = {
				name = nuclear_bonus
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}
	
	focus = {
		id = PER_develop_missile_technology
		icon = GFX_focus_rocketry
		prerequisite = { focus = PER_attract_specialists_to_work }
		mutually_exclusive = { focus = PER_find_use_for_uranium_ores }
		x = 2
		y = 1
		relative_position_id = PER_attract_specialists_to_work

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_find_use_for_uranium_ores"
			add_tech_bonus = {
				name = PER_develop_missile_technology
				ahead_reduction = 2
				bonus = 1.0
				uses = 1
				category = rocketry
			}
		}
	}
	
	focus = {
		id = PER_attract_people_business_activity
		icon = GFX_z_goal_support_businessmen
		prerequisite = { focus = PER_complete_construction_of_transiranian_road }
		x = 0
		y = 1
		relative_position_id = PER_complete_construction_of_transiranian_road

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_people_business_activity"
			add_ideas = PER_attract_people_business_activity
		}
	}
	
	focus = {
		id = PER_attract_western_investors
		icon = GFX_z_goal_gold_up
		prerequisite = { focus = PER_attract_people_business_activity }
		x = 0
		y = 1
		relative_position_id = PER_attract_people_business_activity

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_attract_western_investors"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_new_civil_industry
		icon = GFX_z_goal_prom_country
		prerequisite = { focus = PER_attract_western_investors }
		x = 0
		y = 1
		relative_position_id = PER_attract_western_investors

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_new_civil_industry"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_economy_in_service_of_army
		icon = GFX_z_goal_ammo_industry
		prerequisite = { focus = PER_attract_people_business_activity }
		x = 2
		y = 1
		relative_position_id = PER_attract_people_business_activity

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economy_in_service_of_army"
			add_ideas = PER_economy_in_service_of_army
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_new_military_plants
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = PER_economy_in_service_of_army }
		x = 0
		y = 1
		relative_position_id = PER_economy_in_service_of_army

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_new_military_plants"
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_overtake_europe
		icon = GFX_z_goal_brain
		prerequisite = { focus = PER_cultivate_iranian_specialists }
		prerequisite = { focus = PER_new_civil_industry focus = PER_new_military_plants }
		x = 0
		y = 1
		relative_position_id = PER_new_civil_industry

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			num_of_factories > 74
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_overtake_europe"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = PER_iranian_corridor
		icon = GFX_z_goal_city_road_cei
		prerequisite = { focus = PER_continue_construction_of_transiranian_road }
		x = 2
		y = 1
		relative_position_id = PER_continue_construction_of_transiranian_road

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			419 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			963 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_iranian_corridor"
			419 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			963 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_overall_infrastructure_development
		icon = GFX_z_goal_generic_construct_public_housing
		prerequisite = { focus = PER_iranian_corridor }
		x = 0
		y = 1
		relative_position_id = PER_iranian_corridor

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_overall_infrastructure_development"
			every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				every_neighbor_state = {
					limit = { is_owned_and_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
				} 
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = PER_economic_development
		icon = GFX_z_goal_generic_industrial_worker
		prerequisite = { focus = PER_overall_infrastructure_development }
		x = 0
		y = 1
		relative_position_id = PER_overall_infrastructure_development

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_economic_development"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}
	
	focus = {
		id = PER_creation_civil_industry
		icon = GFX_z_goal_prom_fabric
		prerequisite = { focus = PER_overall_infrastructure_development }
		x = 2
		y = 1
		relative_position_id = PER_overall_infrastructure_development

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_creation_civil_industry"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				every_neighbor_state = {
					limit = { is_owned_and_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				} 
			}
		}
	}
	
	focus = {
		id = PER_updating_gate_to_europe
		icon = GFX_z_goal_soviet_mil_city1
		prerequisite = { focus = PER_creation_civil_industry }
		x = 0
		y = 1
		relative_position_id = PER_creation_civil_industry

		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 8
		}
		available = {
			419 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			963 = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		bypass = {
			
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus PER_updating_gate_to_europe"
			419 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			963 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
